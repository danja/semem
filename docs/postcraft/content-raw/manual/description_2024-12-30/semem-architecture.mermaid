flowchart TB
    subgraph Client
        MA[Memory Access Layer]
        Config[Config Manager]
    end

    subgraph Core
        MM[Memory Manager]
        CM[Context Manager]
        CW[Context Window Manager]
        PT[Prompt Templates]
    end

    subgraph Storage
        IS[InMemory Store]
        JS[JSON Store]
        SS[SPARQL Store]
        CS[Cached SPARQL Store]
    end

    subgraph External
        OC[Ollama Connector]
        VE[Vector Embeddings]
        DB[(SPARQL Endpoint)]
    end

    MA --> MM
    Config --> MM
    MM --> CM
    MM --> CW
    MM --> PT
    MM --> |Store Selection| Storage
    IS --> MA
    JS --> MA
    SS --> MA
    CS --> SS
    SS --> DB
    MM --> OC
    OC --> VE
