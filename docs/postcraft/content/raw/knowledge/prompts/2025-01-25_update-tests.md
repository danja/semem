There have been a lots of recent changes to the code meaning that the tests have got out of sync. Please look at each file under the `test` dir and compare it with the code it targets. If the test is no longer valid, please provide replacement code.  
