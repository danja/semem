<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: stores/SPARQLStore.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: stores/SPARQLStore.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import BaseStore from './BaseStore.js'
import logger from 'loglevel'
import { SPARQLQueryService } from '../services/sparql/SPARQLQueryService.js'
import { v4 as uuidv4 } from 'uuid'
import { readFileSync } from 'fs'
import { join, dirname } from 'path'
import { fileURLToPath } from 'url'
import { SPARQL_CONFIG } from '../../config/preferences.js'

const __dirname = dirname(fileURLToPath(import.meta.url))

// Load ZPT Query Templates from files
function loadZPTQueryTemplates() {
    const templatesDir = join(__dirname, '../../sparql/templates/zpt')
    const templateNames = ['micro', 'entity', 'relationship', 'community', 'corpus']
    const templates = {}
    
    for (const name of templateNames) {
        try {
            const templatePath = join(templatesDir, `${name}.sparql`)
            templates[name] = readFileSync(templatePath, 'utf8')
        } catch (error) {
            logger.error(`Failed to load ZPT template ${name}:`, error)
            throw new Error(`Could not load ZPT template: ${name}`)
        }
    }
    
    return templates
}

// ZPT Query Templates for different zoom levels and data types (loaded from files)
const ZPT_QUERY_TEMPLATES = loadZPTQueryTemplates()

export default class SPARQLStore extends BaseStore {
    constructor(endpoint, options = {}, config = null) {
        super()
        // Robust endpoint handling: allow string or object
        if (typeof endpoint === 'string') {
            this.endpoint = {
                query: endpoint,
                update: endpoint
            }
        } else if (endpoint &amp;&amp; typeof endpoint === 'object') {
            this.endpoint = {
                query: endpoint.query || endpoint.update,
                update: endpoint.update || endpoint.query
            }
        } else {
            throw new Error('SPARQLStore: endpoint must be a string or object with query/update URLs')
        }

        // Validate endpoints
        if (!this.endpoint.query || !this.endpoint.update) {
            throw new Error(`SPARQLStore: Both query and update endpoints must be defined. Got: ${JSON.stringify(this.endpoint)}`)
        }

        this.credentials = {
            user: options.user || 'admin',
            password: options.password || 'admin'
        }
        this.graphName = options.graphName || 'http://hyperdata.it/content'
        this.inTransaction = false
        this.dimension = options.dimension || 1536
        this.queryService = new SPARQLQueryService()
        
        // PREVENTION: Configuration limits to prevent triple explosion
        this.maxConceptsPerInteraction = options.maxConceptsPerInteraction || 10
        this.maxConnectionsPerEntity = options.maxConnectionsPerEntity || 100
        this.config = config
        this.baseUri = config?.get?.('baseUri') || config?.baseUri || 'http://hyperdata.it/'
        
        // Simple resilience configuration (opt-in)
        this.resilience = {
            enabled: options.enableResilience === true, // Default disabled for backward compatibility
            maxRetries: options.maxRetries || 3,
            timeoutMs: options.timeoutMs || 30000,
            retryDelayMs: options.retryDelayMs || 1000,
            enableFallbacks: options.enableFallbacks !== false,
            ...options.resilience
        }
    }

    async _executeSparqlQuery(query, endpoint) {
        const auth = Buffer.from(`${this.credentials.user}:${this.credentials.password}`).toString('base64')
        logger.log(`endpoint = ${endpoint}`)
        
        // Use resilience wrapper only if enabled
        if (this.resilience.enabled) {
            return this.executeWithResilience(async () => {
                logger.debug('[SPARQL QUERY]', endpoint) // { endpoint, query }
                const response = await this.withTimeout(
                    fetch(endpoint, {
                        method: 'POST',
                        headers: {
                            'Authorization': `Basic ${auth}`,
                            'Content-Type': 'application/sparql-query',
                            'Accept': 'application/json'
                        },
                        body: query,
                        credentials: 'include'
                    }),
                    this.resilience.timeoutMs
                )

                if (!response.ok) {
                    const errorText = await response.text()
                    logger.error('[SPARQL QUERY FAIL]', { endpoint, query, status: response.status, errorText })
                    throw new Error(`SPARQL query failed: ${response.status} - ${errorText}`)
                }

                const json = await response.json()
                logger.error('[SPARQL QUERY SUCCESS]', endpoint) // , { endpoint, query, json }
                return json
            }, 'query')
        }

        // Original implementation for backward compatibility
        try {
            logger.debug('[SPARQL QUERY]', endpoint) // { endpoint, query }
            const response = await fetch(endpoint, {
                method: 'POST',
                headers: {
                    'Authorization': `Basic ${auth}`,
                    'Content-Type': 'application/sparql-query',
                    'Accept': 'application/json'
                },
                body: query,
                credentials: 'include'
            })

            if (!response.ok) {
                const errorText = await response.text()
                logger.error('[SPARQL QUERY FAIL]', { endpoint, query, status: response.status, errorText })
                throw new Error(`SPARQL query failed: ${response.status} - ${errorText}`)
            }

            const json = await response.json()
            logger.error('[SPARQL QUERY SUCCESS]', endpoint) // , { endpoint, query, json }
            return json
        } catch (error) {
            logger.error('SPARQL query error:', { endpoint, query, error })
            throw error
        }
    }

    async _executeSparqlUpdate(update, endpoint) {
        const auth = Buffer.from(`${this.credentials.user}:${this.credentials.password}`).toString('base64')

        // Use resilience wrapper only if enabled
        if (this.resilience.enabled) {
            return this.executeWithResilience(async () => {
                logger.debug('[SPARQL UPDATE]', endpoint) //  { endpoint, update }
                const response = await this.withTimeout(
                    fetch(endpoint, {
                        method: 'POST',
                        headers: {
                            'Authorization': `Basic ${auth}`,
                            'Content-Type': 'application/sparql-update',
                            'Accept': 'application/json'
                        },
                        body: update,
                        credentials: 'include'
                    }),
                    this.resilience.timeoutMs
                )

                if (!response.ok) {
                    const errorText = await response.text()
                    logger.error('[SPARQL UPDATE FAIL]', { endpoint, update, status: response.status, errorText })
                    throw new Error(`SPARQL update failed: ${response.status} - ${errorText}`)
                }

                logger.error('[SPARQL UPDATE SUCCESS]', endpoint) // { endpoint, update}
                return response
            }, 'update')
        }

        // Original implementation for backward compatibility
        try {
            logger.debug('[SPARQL UPDATE]', endpoint) //  { endpoint, update }
            const response = await fetch(endpoint, {
                method: 'POST',
                headers: {
                    'Authorization': `Basic ${auth}`,
                    'Content-Type': 'application/sparql-update',
                    'Accept': 'application/json'
                },
                body: update,
                credentials: 'include'
            })

            if (!response.ok) {
                const errorText = await response.text()
                logger.error('[SPARQL UPDATE FAIL]', { endpoint, update, status: response.status, errorText })
                throw new Error(`SPARQL update failed: ${response.status} - ${errorText}`)
            }

            logger.error('[SPARQL UPDATE SUCCESS]', endpoint) // { endpoint, update}
            return response
        } catch (error) {
            logger.error('SPARQL update error:', { endpoint, update, error })
            throw error
        }
    }

    validateEmbedding(embedding) {
        if (!Array.isArray(embedding)) {
            throw new TypeError('Embedding must be an array')
        }
        if (embedding.length !== this.dimension) {
            throw new Error(`Embedding dimension mismatch: expected ${this.dimension}, got ${embedding.length}`)
        }
        if (!embedding.every(x => typeof x === 'number' &amp;&amp; !isNaN(x))) {
            throw new TypeError('Embedding must contain only valid numbers')
        }
    }

    async verify() {
        this.graphName = await Promise.resolve(this.graphName)
        try {
            try {
                const createQuery = `
                    PREFIX ragno: &lt;http://purl.org/stuff/ragno/>
                    PREFIX skos: &lt;http://www.w3.org/2004/02/skos/core#>
                    PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#>
                    PREFIX semem: &lt;http://purl.org/stuff/semem/>
                    
                    CREATE SILENT GRAPH &lt;${this.graphName}>;
                    INSERT DATA { GRAPH &lt;${this.graphName}> {
                        &lt;${this.graphName}> a ragno:Corpus ;
                            rdfs:label "Semem Memory Store" ;
                            skos:prefLabel "Semem Memory Store"@en
                    }}
                `
                logger.error('[VERIFY] Creating graph', this.endpoint.update, { endpoint: this.endpoint.update, graph: this.graphName }) //  { endpoint: this.endpoint.update, createQuery }
                await this._executeSparqlUpdate(createQuery, this.endpoint.update)
            } catch (error) {
                logger.debug('Graph creation skipped:', error.message)
            }

            const checkQuery = `ASK { GRAPH &lt;${this.graphName}> { ?s ?p ?o } }`
            logger.error('[VERIFY] ASKing graph', this.endpoint.query, { endpoint: this.endpoint.query, graph: this.graphName }) // { endpoint: this.endpoint.query, checkQuery }
            const result = await this._executeSparqlQuery(checkQuery, this.endpoint.query)
            return result.boolean
        } catch (error) {
            logger.error('Graph verification failed:', { endpoint: this.endpoint, error })
            throw error
        }
    }

    async loadHistory() {
        await this.verify()

        const query = `
            PREFIX ragno: &lt;http://purl.org/stuff/ragno/>
            PREFIX skos: &lt;http://www.w3.org/2004/02/skos/core#>
            PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#>
            PREFIX semem: &lt;http://purl.org/stuff/semem/>
            PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#>

            SELECT ?id ?prompt ?output ?embedding ?timestamp ?accessCount ?concepts ?decayFactor ?memoryType
            FROM &lt;${this.graphName}>
            WHERE {
                ?interaction a semem:Interaction ;
                    semem:id ?id ;
                    semem:prompt ?prompt ;
                    semem:output ?output ;
                    semem:embedding ?embedding ;
                    semem:timestamp ?timestamp ;
                    semem:accessCount ?accessCount ;
                    semem:decayFactor ?decayFactor ;
                    semem:memoryType ?memoryType .
                OPTIONAL { ?interaction semem:concepts ?concepts }
            }`

        try {
            const result = await this._executeSparqlQuery(query, this.endpoint.query)
            const shortTermMemory = []
            const longTermMemory = []

            for (const binding of result.results.bindings) {
                try {
                    let embedding = new Array(this.dimension).fill(0)
                    if (binding.embedding?.value &amp;&amp; binding.embedding.value !== 'undefined') {
                        try {
                            embedding = JSON.parse(binding.embedding.value.trim())
                            this.validateEmbedding(embedding)
                        } catch (embeddingError) {
                            logger.error('Invalid embedding format:', embeddingError)
                        }
                    }

                    let concepts = []
                    if (binding.concepts?.value &amp;&amp; binding.concepts.value !== 'undefined') {
                        try {
                            concepts = JSON.parse(binding.concepts.value.trim())
                            if (!Array.isArray(concepts)) {
                                throw new Error('Concepts must be an array')
                            }
                        } catch (conceptsError) {
                            logger.error('Invalid concepts format:', conceptsError)
                        }
                    }

                    const interaction = {
                        id: binding.id.value,
                        prompt: binding.prompt.value,
                        output: binding.output.value,
                        embedding,
                        timestamp: parseInt(binding.timestamp.value) || Date.now(),
                        accessCount: parseInt(binding.accessCount.value) || 1,
                        concepts,
                        decayFactor: parseFloat(binding.decayFactor.value) || 1.0
                    }

                    if (binding.memoryType.value === 'short-term') {
                        shortTermMemory.push(interaction)
                    } else {
                        longTermMemory.push(interaction)
                    }
                } catch (parseError) {
                    logger.error('Failed to parse interaction:', parseError, binding)
                }
            }

            logger.info(`Loaded ${shortTermMemory.length} short-term and ${longTermMemory.length} long-term memories from store ${this.endpoint.query} graph &lt;${this.graphName}>`)
            return [shortTermMemory, longTermMemory]
        } catch (error) {
            logger.error('Error loading history:', error)
            return [[], []]
        }
    }

    async saveMemoryToHistory(memoryStore) {
        if (this.inTransaction) {
            throw new Error('Transaction already in progress')
        }

        try {
            await this.verify()
            await this.beginTransaction()

            const clearQuery = `
                PREFIX ragno: &lt;http://purl.org/stuff/ragno/>
                PREFIX semem: &lt;http://purl.org/stuff/semem/>
                
                DELETE {
                    GRAPH &lt;${this.graphName}> {
                        ?interaction ?p ?o
                    }
                } WHERE {
                    GRAPH &lt;${this.graphName}> {
                        ?interaction a semem:Interaction ;
                            ?p ?o
                    }
                }
            `
            await this._executeSparqlUpdate(clearQuery, this.endpoint.update)

            const insertQuery = `
                PREFIX ragno: &lt;http://purl.org/stuff/ragno/>
                PREFIX skos: &lt;http://www.w3.org/2004/02/skos/core#>
                PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#>
                PREFIX semem: &lt;http://purl.org/stuff/semem/>
                PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#>

                INSERT DATA {
                    GRAPH &lt;${this.graphName}> {
                        ${this._generateInsertStatements(memoryStore.shortTermMemory, 'short-term')}
                        ${this._generateInsertStatements(memoryStore.longTermMemory, 'long-term')}
                        ${this._generateConceptStatements(memoryStore.shortTermMemory)}
                        ${this._generateConceptStatements(memoryStore.longTermMemory)}
                    }
                }
            `

            logger.debug(`SPARQLStore saveMemoryToHistory query = \n${insertQuery}`)
            logger.debug(`About to execute SPARQL update to ${this.endpoint.update}`)
            await this._executeSparqlUpdate(insertQuery, this.endpoint.update)
            logger.debug(`SPARQL update completed successfully`)
            await this.commitTransaction()

            logger.info(`Saved memory to SPARQL store ${this.endpoint.update} graph &lt;${this.graphName}>. Stats: ${memoryStore.shortTermMemory.length} short-term, ${memoryStore.longTermMemory.length} long-term memories`)
        } catch (error) {
            await this.rollbackTransaction()
            
            // Handle string length errors specifically
            if (error instanceof RangeError &amp;&amp; error.message.includes('string length')) {
                const detailedError = new Error(`String length error in SPARQL store: ${error.message}. This usually indicates content is too large for processing. Consider chunking the content first.`);
                detailedError.code = 'CONTENT_TOO_LARGE';
                logger.error('String length error in SPARQL store - content too large:', {
                    originalError: error.message,
                    shortTermCount: memoryStore.shortTermMemory.length,
                    longTermCount: memoryStore.longTermMemory.length,
                    suggestion: 'Consider chunking large content before storing'
                });
                throw detailedError;
            }
            
            logger.error('Error saving to SPARQL store:', error)
            throw error
        }
    }

    /*
    _generateInsertStatements(memories, type) {
        return memories.map((interaction, index) => {
            let embeddingStr = '[]'
            if (Array.isArray(interaction.embedding)) {
                try {
                    this.validateEmbedding(interaction.embedding)
                    embeddingStr = JSON.stringify(interaction.embedding)
                } catch (error) {
                    logger.error('Invalid embedding in memory:', error)
                }
            }

            let conceptsStr = '[]'
            if (Array.isArray(interaction.concepts)) {
                conceptsStr = JSON.stringify(interaction.concepts)
            }

            return `
                _:interaction${type}${index} a semem:Interaction, ragno:Unit ;
                    semem:id "${interaction.id}" ;
                    semem:prompt "${this._escapeSparqlString(interaction.prompt)}" ;
                    semem:output "${this._escapeSparqlString(interaction.output)}" ;
                    ragno:content "${this._escapeSparqlString(interaction.prompt + ' ' + interaction.output)}" ;
                    semem:embedding """${embeddingStr}""" ;
                    semem:timestamp "${interaction.timestamp}"^^xsd:integer ;
                    semem:accessCount "${interaction.accessCount}"^^xsd:integer ;
                    semem:concepts """${conceptsStr}""" ;
                    semem:decayFactor "${interaction.decayFactor}"^^xsd:decimal ;
                    semem:memoryType "${type}" ;
                    skos:prefLabel "${this._escapeSparqlString(interaction.prompt.substring(0, 50))}" .
            `
        }).join('\n')
    }
*/
    // Replace the _generateInsertStatements method in SPARQLStore.js

    _generateInsertStatements(memories, type) {
        return memories.map((interaction, index) => {
            // Ensure all required fields have values
            const id = interaction.id || uuidv4()
            let prompt = interaction.prompt || ''
            let output = interaction.output || interaction.response || ''
            const timestamp = interaction.timestamp || Date.now()
            const accessCount = interaction.accessCount || 1
            const decayFactor = interaction.decayFactor || 1.0

            // Add length validation to prevent string length errors
            const MAX_CONTENT_LENGTH = 50000; // Conservative limit to prevent RangeError
            const MAX_EMBEDDING_LENGTH = 500000; // Higher limit for embedding vectors (1536 * ~20 chars per float)
            
            if (prompt.length > MAX_CONTENT_LENGTH) {
                logger.warn(`Truncating prompt from ${prompt.length} to ${MAX_CONTENT_LENGTH} characters to prevent string length error`);
                prompt = prompt.substring(0, MAX_CONTENT_LENGTH) + '... [TRUNCATED]';
            }
            
            if (output.length > MAX_CONTENT_LENGTH) {
                logger.warn(`Truncating output from ${output.length} to ${MAX_CONTENT_LENGTH} characters to prevent string length error`);
                output = output.substring(0, MAX_CONTENT_LENGTH) + '... [TRUNCATED]';
            }

            // Handle embeddings
            let embeddingStr = '[]'
            if (Array.isArray(interaction.embedding)) {
                try {
                    this.validateEmbedding(interaction.embedding)
                    const jsonStr = JSON.stringify(interaction.embedding);
                    if (jsonStr.length > MAX_EMBEDDING_LENGTH) {
                        logger.warn(`Embedding JSON too large (${jsonStr.length} chars), truncating to preserve vector integrity`);
                        // Instead of empty array, try to preserve the embedding by compressing precision
                        const compressedEmbedding = interaction.embedding.map(x => Math.round(x * 10000) / 10000);
                        const compressedStr = JSON.stringify(compressedEmbedding);
                        embeddingStr = compressedStr.length > MAX_EMBEDDING_LENGTH ? '[]' : compressedStr;
                    } else {
                        embeddingStr = jsonStr;
                    }
                } catch (error) {
                    logger.error('Invalid embedding in memory:', error)
                }
            }

            // Handle concepts
            let conceptsStr = '[]'
            if (Array.isArray(interaction.concepts)) {
                try {
                    const jsonStr = JSON.stringify(interaction.concepts);
                    if (jsonStr.length > MAX_CONTENT_LENGTH) {
                        logger.warn(`Concepts JSON too large (${jsonStr.length} chars), using empty array`);
                        conceptsStr = '[]';
                    } else {
                        conceptsStr = jsonStr;
                    }
                } catch (error) {
                    logger.error('Error stringifying concepts:', error);
                    conceptsStr = '[]';
                }
            }

            // Use proper interaction URI instead of blank node to prevent phantom node creation
            const interactionUri = `${this.baseUri}interaction/${id}`
            
            return `
            &lt;${interactionUri}> a semem:Interaction ;
                semem:id "${this._escapeSparqlString(id)}" ;
                semem:prompt "${this._escapeSparqlString(prompt)}" ;
                semem:output "${this._escapeSparqlString(output)}" ;
                semem:embedding """${embeddingStr}""" ;
                semem:timestamp "${timestamp}"^^xsd:integer ;
                semem:accessCount "${accessCount}"^^xsd:integer ;
                semem:concepts """${conceptsStr}""" ;
                semem:decayFactor "${decayFactor}"^^xsd:decimal ;
                semem:memoryType "${type}" .
        `
        }).join('\n')
    }
    /*
    _generateConceptStatements(memories) {
        const conceptStatements = []
        const seenConcepts = new Set()

        memories.forEach((interaction, index) => {
            if (Array.isArray(interaction.concepts)) {
                interaction.concepts.forEach(concept => {
                    const conceptUri = `${this.baseUri}concept/${encodeURIComponent(concept)}`

                    if (!seenConcepts.has(conceptUri)) {
                        conceptStatements.push(`
                            &lt;${conceptUri}> a skos:Concept, ragno:Element ;
                                skos:prefLabel "${this._escapeSparqlString(concept)}" ;
                                ragno:content "${this._escapeSparqlString(concept)}" .
                        `)
                        seenConcepts.add(conceptUri)
                    }

                    conceptStatements.push(`
                        _:interaction${interaction.id || index} ragno:connectsTo &lt;${conceptUri}> .
                        &lt;${conceptUri}> ragno:connectsTo _:interaction${interaction.id || index} .
                    `)
                })
            }
        })

        return conceptStatements.join('\n')
    }
*/
    _generateConceptStatements(memories) {
        const conceptStatements = []
        const seenConcepts = new Set()

        memories.forEach((interaction, index) => {
            if (Array.isArray(interaction.concepts)) {
                // Use proper interaction URI instead of blank node to prevent phantom node creation
                const interactionUri = `${this.baseUri}interaction/${interaction.id || index}`
                
                // CONSTRAINT: Limit concepts per interaction to prevent connection explosion
                const limitedConcepts = interaction.concepts.slice(0, this.maxConceptsPerInteraction);
                
                limitedConcepts.forEach(concept => {
                    const conceptUri = `${this.baseUri}concept/${encodeURIComponent(concept)}`

                    if (!seenConcepts.has(conceptUri)) {
                        conceptStatements.push(`
                            &lt;${conceptUri}> a skos:Concept, ragno:Element ;
                                skos:prefLabel "${this._escapeSparqlString(concept)}" ;
                                ragno:content "${this._escapeSparqlString(concept)}" .
                        `)
                        seenConcepts.add(conceptUri)
                    }

                    // FIX: Use proper URIs instead of blank nodes to prevent phantom node explosion
                    // Only create bidirectional connections if both entities are legitimate
                    conceptStatements.push(`
                        &lt;${interactionUri}> ragno:connectsTo &lt;${conceptUri}> .
                        &lt;${conceptUri}> ragno:connectsTo &lt;${interactionUri}> .
                    `)
                })
            }
        })

        return conceptStatements.join('\n')
    }
    /*
    _escapeSparqlString(str) {
        return str.replace(/["\\]/g, '\\$&amp;').replace(/\n/g, '\\n')
    }
*/
    _escapeSparqlString(str) {
        // Ensure str is a string
        if (typeof str !== 'string') {
            str = String(str);
        }
        
        // Prevent string length errors by truncating extremely long strings
        const MAX_SPARQL_STRING_LENGTH = 100000; // Conservative limit for SPARQL strings
        if (str.length > MAX_SPARQL_STRING_LENGTH) {
            logger.warn(`Truncating string from ${str.length} to ${MAX_SPARQL_STRING_LENGTH} characters in SPARQL escape`);
            str = str.substring(0, MAX_SPARQL_STRING_LENGTH) + '... [TRUNCATED]';
        }
        
        return str.replace(/["\\]/g, '\\$&amp;').replace(/\n/g, '\\n').replace(/\r/g, '\\r').replace(/\t/g, '\\t')
    }

    /**
     * Escape text for use in SPARQL triple-quoted literals
     * Triple-quoted literals can contain newlines and quotes but need backslashes escaped
     */
    _escapeTripleQuotedString(str) {
        // Ensure str is a string
        if (typeof str !== 'string') {
            str = String(str);
        }
        
        // Prevent string length errors by truncating extremely long strings
        const MAX_SPARQL_STRING_LENGTH = 100000; // Conservative limit for SPARQL strings
        if (str.length > MAX_SPARQL_STRING_LENGTH) {
            logger.warn(`Truncating string from ${str.length} to ${MAX_SPARQL_STRING_LENGTH} characters in triple-quoted SPARQL escape`);
            str = str.substring(0, MAX_SPARQL_STRING_LENGTH) + '... [TRUNCATED]';
        }
        
        // For SPARQL triple-quoted strings, we need to:
        // 1. Escape backslashes 
        // 2. Escape triple quotes
        // 3. Handle control characters that can break SPARQL parsing
        
        return str
            .replace(/\\/g, '\\\\')           // Escape backslashes first
            .replace(/"""/g, '\\"\\"\\"')     // Escape triple quotes 
            .replace(/\r\n/g, '\\n')          // Convert CRLF to escaped newlines
            .replace(/\r/g, '\\n')            // Convert CR to escaped newlines  
            .replace(/\n/g, '\\n')            // Convert LF to escaped newlines
            .replace(/\t/g, '\\t')            // Escape tabs
            .replace(/\f/g, '\\f')            // Escape form feeds
            .replace(/\v/g, '\\v')            // Escape vertical tabs
            .replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F]/g, ''); // Remove other control chars
    }

    async beginTransaction() {
        if (this.inTransaction) {
            throw new Error('Transaction already in progress')
        }

        this.inTransaction = true

        const backupQuery = `
            PREFIX semem: &lt;http://purl.org/stuff/semem/>
            COPY GRAPH &lt;${this.graphName}> TO GRAPH &lt;${this.graphName}.backup>
        `
        await this._executeSparqlUpdate(backupQuery, this.endpoint.update)
    }

    async commitTransaction() {
        if (!this.inTransaction) {
            throw new Error('No transaction in progress')
        }

        try {
            const dropBackup = `
                PREFIX semem: &lt;http://purl.org/stuff/semem/>
                DROP SILENT GRAPH &lt;${this.graphName}.backup>
            `
            await this._executeSparqlUpdate(dropBackup, this.endpoint.update)
        } finally {
            this.inTransaction = false
        }
    }

    async rollbackTransaction() {
        if (!this.inTransaction) {
            throw new Error('No transaction in progress')
        }

        try {
            const restoreQuery = `
                PREFIX semem: &lt;http://purl.org/stuff/semem/>
                DROP SILENT GRAPH &lt;${this.graphName}> ;
                MOVE GRAPH &lt;${this.graphName}.backup> TO GRAPH &lt;${this.graphName}>
            `
            await this._executeSparqlUpdate(restoreQuery, this.endpoint.update)
        } finally {
            this.inTransaction = false
        }
    }

    async close() {
        if (this.inTransaction) {
            await this.rollbackTransaction()
        }
    }

    // ============================================================================
    // ZPT INTEGRATION METHODS - Ragno Vocabulary Support
    // ============================================================================

    /**
     * Store a ragno:Entity with full metadata and relationships
     * @param {Object} entity - Entity data with id, label, type, embedding, etc.
     * @returns {Promise&lt;void>}
     */
    async storeEntity(entity) {
        if (!entity || !entity.id) {
            throw new Error('Entity must have an id field')
        }

        const entityUri = `&lt;${entity.id}>`
        const embeddingStr = Array.isArray(entity.embedding) ? JSON.stringify(entity.embedding) : '[]'

        const insertQuery = `
            PREFIX ragno: &lt;http://purl.org/stuff/ragno/>
            PREFIX skos: &lt;http://www.w3.org/2004/02/skos/core#>
            PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#>
            PREFIX dcterms: &lt;http://purl.org/dc/terms/>
            PREFIX semem: &lt;http://purl.org/stuff/semem/>
            PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#>

            INSERT DATA {
                GRAPH &lt;${this.graphName}> {
                    ${entityUri} a ragno:Entity ;
                        rdfs:label "${this._escapeSparqlString(entity.label || entity.name || '')}" ;
                        rdf:type ragno:${entity.subType || 'Entity'} ;
                        skos:prefLabel "${this._escapeSparqlString(entity.prefLabel || entity.label || '')}" ;
                        semem:embedding """${embeddingStr}""" ;
                        dcterms:created "${new Date().toISOString()}"^^xsd:dateTime ;
                        ragno:frequency "${entity.frequency || 1}"^^xsd:integer ;
                        ragno:centrality "${entity.centrality || 0.0}"^^xsd:decimal ;
                        ragno:isEntryPoint "${entity.isEntryPoint || false}"^^xsd:boolean .
                    ${entity.description ? `${entityUri} rdfs:comment "${this._escapeSparqlString(entity.description)}" .` : ''}
                    ${entity.metadata ? Object.entries(entity.metadata).map(([key, value]) =>
                        `${entityUri} ragno:${key} "${this._escapeSparqlString(String(value))}" .`
                    ).join('\n') : ''}
                }
            }
        `

        await this._executeSparqlUpdate(insertQuery, this.endpoint.update)
        logger.info(`Stored ragno:Entity ${entity.id}`)
    }

    /**
     * Store a ragno:SemanticUnit with content and relationships
     * @param {Object} unit - Semantic unit data with content, entities, embedding
     * @returns {Promise&lt;void>}
     */
    async storeSemanticUnit(unit) {
        if (!unit || !unit.id) {
            throw new Error('SemanticUnit must have an id field')
        }

        const unitUri = `&lt;${unit.id}>`
        const embeddingStr = Array.isArray(unit.embedding) ? JSON.stringify(unit.embedding) : '[]'

        const insertQuery = `
            PREFIX ragno: &lt;http://purl.org/stuff/ragno/>
            PREFIX skos: &lt;http://www.w3.org/2004/02/skos/core#>
            PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#>
            PREFIX dcterms: &lt;http://purl.org/dc/terms/>
            PREFIX semem: &lt;http://purl.org/stuff/semem/>
            PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#>

            INSERT DATA {
                GRAPH &lt;${this.graphName}> {
                    ${unitUri} a ragno:SemanticUnit ;
                        ragno:hasContent "${this._escapeSparqlString(unit.content || '')}" ;
                        rdfs:label "${this._escapeSparqlString(unit.summary || unit.content?.substring(0, 100) || '')}" ;
                        semem:embedding """${embeddingStr}""" ;
                        dcterms:created "${new Date().toISOString()}"^^xsd:dateTime ;
                        ragno:tokenCount "${unit.tokenCount || 0}"^^xsd:integer ;
                        ragno:importance "${unit.importance || 0.5}"^^xsd:decimal .
                    ${unit.entities ? unit.entities.map(entityId =>
                        `${unitUri} ragno:relatedTo &lt;${entityId}> .`
                    ).join('\n') : ''}
                    ${unit.partOf ? `${unitUri} ragno:partOf &lt;${unit.partOf}> .` : ''}
                }
            }
        `

        await this._executeSparqlUpdate(insertQuery, this.endpoint.update)
        logger.info(`Stored ragno:SemanticUnit ${unit.id}`)
    }

    /**
     * Store a ragno:Relationship with source, target and properties
     * @param {Object} relationship - Relationship data with source, target, type
     * @returns {Promise&lt;void>}
     */
    async storeRelationship(relationship) {
        if (!relationship || !relationship.id || !relationship.source || !relationship.target) {
            throw new Error('Relationship must have id, source, and target fields')
        }

        const relUri = `&lt;${relationship.id}>`

        const insertQuery = `
            PREFIX ragno: &lt;http://purl.org/stuff/ragno/>
            PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#>
            PREFIX dcterms: &lt;http://purl.org/dc/terms/>
            PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#>

            INSERT DATA {
                GRAPH &lt;${this.graphName}> {
                    ${relUri} a ragno:Relationship ;
                        rdfs:label "${this._escapeSparqlString(relationship.label || relationship.type || '')}" ;
                        ragno:source &lt;${relationship.source}> ;
                        ragno:target &lt;${relationship.target}> ;
                        rdf:type ragno:${relationship.type || 'Relationship'} ;
                        ragno:weight "${relationship.weight || 1.0}"^^xsd:decimal ;
                        ragno:confidence "${relationship.confidence || 1.0}"^^xsd:decimal ;
                        dcterms:created "${new Date().toISOString()}"^^xsd:dateTime .
                    ${relationship.properties ? Object.entries(relationship.properties).map(([key, value]) =>
                        `${relUri} ragno:${key} "${this._escapeSparqlString(String(value))}" .`
                    ).join('\n') : ''}
                }
            }
        `

        await this._executeSparqlUpdate(insertQuery, this.endpoint.update)
        logger.info(`Stored ragno:Relationship ${relationship.id}`)
    }

    /**
     * Store a ragno:Community with members and aggregation data
     * @param {Object} community - Community data with members and statistics
     * @returns {Promise&lt;void>}
     */
    async storeCommunity(community) {
        if (!community || !community.id) {
            throw new Error('Community must have an id field')
        }

        const communityUri = `&lt;${community.id}>`

        const insertQuery = `
            PREFIX ragno: &lt;http://purl.org/stuff/ragno/>
            PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#>
            PREFIX dcterms: &lt;http://purl.org/dc/terms/>
            PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#>

            INSERT DATA {
                GRAPH &lt;${this.graphName}> {
                    ${communityUri} a ragno:Community ;
                        rdfs:label "${this._escapeSparqlString(community.label || community.name || '')}" ;
                        ragno:cohesion "${community.cohesion || 0.5}"^^xsd:decimal ;
                        ragno:size "${community.size || (community.members ? community.members.length : 0)}"^^xsd:integer ;
                        dcterms:created "${new Date().toISOString()}"^^xsd:dateTime .
                    ${community.members ? community.members.map(memberId =>
                        `${communityUri} ragno:hasMember &lt;${memberId}> .`
                    ).join('\n') : ''}
                    ${community.description ? `${communityUri} rdfs:comment "${this._escapeSparqlString(community.description)}" .` : ''}
                }
            }
        `

        await this._executeSparqlUpdate(insertQuery, this.endpoint.update)
        logger.info(`Stored ragno:Community ${community.id}`)
    }

    /**
     * Execute ZPT query by zoom level with filters
     * @param {Object} queryConfig - Configuration with zoomLevel, filters, limit
     * @returns {Promise&lt;Array>} Query results
     */
    async queryByZoomLevel(queryConfig) {
        const { zoomLevel, filters = {}, limit = 25 } = queryConfig
        
        const template = ZPT_QUERY_TEMPLATES[zoomLevel]
        if (!template) {
            throw new Error(`Unknown zoom level: ${zoomLevel}`)
        }

        // Build filter clauses
        const filterClauses = this._buildFilterClauses(filters)
        
        // Replace template variables
        const query = template
            .replace(/\{\{graphName\}\}/g, this.graphName)
            .replace(/\{\{filters\}\}/g, filterClauses)
            .replace(/\{\{limit\}\}/g, limit)

        logger.debug(`Executing ZPT query for zoom level: ${zoomLevel}`)
        const result = await this._executeSparqlQuery(query, this.endpoint.query)
        
        return this._parseQueryResults(result, zoomLevel)
    }

    /**
     * Build SPARQL filter clauses from ZPT pan parameters
     * @param {Object} filters - Filter configuration (domains, keywords, temporal, etc.)
     * @returns {string} SPARQL filter clauses
     */
    _buildFilterClauses(filters) {
        const clauses = []

        // Domain filtering
        if (filters.domains &amp;&amp; filters.domains.length > 0) {
            const domainPattern = filters.domains.map(d => `"${this._escapeSparqlString(d)}"`).join('|')
            clauses.push(`FILTER(REGEX(?label, "${domainPattern}", "i"))`)
        }

        // Keyword filtering  
        if (filters.keywords &amp;&amp; filters.keywords.length > 0) {
            const keywordPattern = filters.keywords.map(k => `"${this._escapeSparqlString(k)}"`).join('|')
            clauses.push(`FILTER(REGEX(?content, "${keywordPattern}", "i") || REGEX(?label, "${keywordPattern}", "i"))`)
        }

        // Entity filtering
        if (filters.entities &amp;&amp; filters.entities.length > 0) {
            const entityValues = filters.entities.map(e => `&lt;${e}>`).join(' ')
            clauses.push(`VALUES ?relatedEntity { ${entityValues} }`)
            clauses.push(`?uri ragno:connectsTo ?relatedEntity`)
        }

        // Temporal filtering
        if (filters.temporal &amp;&amp; (filters.temporal.start || filters.temporal.end)) {
            if (filters.temporal.start) {
                clauses.push(`FILTER(?timestamp >= "${filters.temporal.start}"^^xsd:dateTime)`)
            }
            if (filters.temporal.end) {
                clauses.push(`FILTER(?timestamp &lt;= "${filters.temporal.end}"^^xsd:dateTime)`)
            }
        }

        // Geographic filtering (if coordinates provided)
        if (filters.geographic &amp;&amp; filters.geographic.boundingBox) {
            const { north, south, east, west } = filters.geographic.boundingBox
            clauses.push(`
                ?uri geo:lat ?lat ; geo:long ?long .
                FILTER(?lat >= ${south} &amp;&amp; ?lat &lt;= ${north})
                FILTER(?long >= ${west} &amp;&amp; ?long &lt;= ${east})
            `)
        }

        // Similarity threshold filtering
        if (filters.similarityThreshold) {
            clauses.push(`FILTER(?similarity >= ${filters.similarityThreshold})`)
        }

        return clauses.join('\n                ')
    }

    /**
     * Parse SPARQL query results into ZPT corpuscle format
     * @param {Object} result - SPARQL query result
     * @param {string} zoomLevel - The zoom level for result interpretation
     * @returns {Array&lt;Object>} Parsed corpuscles
     */
    _parseQueryResults(result, zoomLevel) {
        const corpuscles = []

        for (const binding of result.results.bindings) {
            try {
                const corpuscle = {
                    id: binding.uri.value,
                    type: zoomLevel,
                    timestamp: binding.timestamp?.value || new Date().toISOString()
                }

                // Add type-specific properties
                switch (zoomLevel) {
                    case 'micro':
                        corpuscle.content = binding.content?.value || ''
                        corpuscle.metadata = this._parseJsonValue(binding.metadata?.value)
                        corpuscle.similarity = parseFloat(binding.similarity?.value) || 0
                        break

                    case 'entity':
                        corpuscle.label = binding.label?.value || ''
                        corpuscle.entityType = binding.type?.value || ''
                        corpuscle.prefLabel = binding.prefLabel?.value || ''
                        corpuscle.frequency = parseInt(binding.frequency?.value) || 0
                        corpuscle.centrality = parseFloat(binding.centrality?.value) || 0
                        break

                    case 'relationship':
                        corpuscle.label = binding.label?.value || ''
                        corpuscle.source = binding.source?.value || ''
                        corpuscle.target = binding.target?.value || ''
                        corpuscle.relationshipType = binding.type?.value || ''
                        corpuscle.weight = parseFloat(binding.weight?.value) || 0
                        break

                    case 'community':
                        corpuscle.label = binding.label?.value || ''
                        corpuscle.memberCount = parseInt(binding.memberCount?.value) || 0
                        corpuscle.avgSimilarity = parseFloat(binding.avgSimilarity?.value) || 0
                        corpuscle.cohesion = parseFloat(binding.cohesion?.value) || 0
                        break

                    case 'corpus':
                        corpuscle.label = binding.label?.value || ''
                        corpuscle.entityCount = parseInt(binding.entityCount?.value) || 0
                        corpuscle.unitCount = parseInt(binding.unitCount?.value) || 0
                        corpuscle.relationshipCount = parseInt(binding.relationshipCount?.value) || 0
                        corpuscle.avgConnectivity = parseFloat(binding.avgConnectivity?.value) || 0
                        break
                }

                corpuscles.push(corpuscle)
            } catch (parseError) {
                logger.error('Failed to parse corpuscle:', parseError, binding)
            }
        }

        logger.info(`Parsed ${corpuscles.length} corpuscles for zoom level: ${zoomLevel}`)
        return corpuscles
    }

    /**
     * Advanced similarity search with SPARQL-based cosine similarity
     * @param {Array&lt;number>} queryEmbedding - Query embedding vector
     * @param {number} limit - Maximum results
     * @param {number} threshold - Similarity threshold
     * @param {Object} filters - Additional filters
     * @returns {Promise&lt;Array>} Similar elements with similarity scores
     */
    async findSimilarElements(queryEmbedding, limit = SPARQL_CONFIG.SIMILARITY.DEFAULT_LIMIT, threshold = SPARQL_CONFIG.SIMILARITY.FINDALL_THRESHOLD, filters = {}) {
        const embeddingStr = JSON.stringify(queryEmbedding)
        const filterClauses = this._buildFilterClauses(filters)

        // Use template-based query instead of hardcoded SPARQL
        const queryTemplate = await this.queryService.loadQuery('semantic-search')
        if (!queryTemplate) {
            throw new Error('semantic-search query template not found')
        }

        const query = queryTemplate
            .replace('${graphName}', this.graphName)
            .replace('${filters}', filterClauses)
            .replace('${limit}', limit * 2)

        try {
            const result = await this._executeSparqlQuery(query, this.endpoint.query)
            const similarElements = []

            for (const binding of result.results.bindings) {
                try {
                    let embedding = []
                    
                    // Handle two embedding formats:
                    // 1. semem vocabulary: embedding value is JSON array string
                    // 2. ragno vocabulary: embedding is URI, embeddingVector has the actual vector
                    if (binding.embeddingVector?.value &amp;&amp; binding.embeddingVector.value !== 'undefined') {
                        // Ragno format: embedding stored as URI reference with vector data
                        embedding = JSON.parse(binding.embeddingVector.value.trim())
                    } else if (binding.embedding?.value &amp;&amp; binding.embedding.value !== 'undefined' &amp;&amp; binding.embedding.type === 'literal') {
                        // Semem format: embedding value is the JSON array string
                        embedding = JSON.parse(binding.embedding.value.trim())
                    }

                    if (embedding.length === queryEmbedding.length &amp;&amp; embedding.length > 0) {
                        const similarity = this._calculateCosineSimilarity(queryEmbedding, embedding)
                        
                        if (similarity >= threshold) {
                            similarElements.push({
                                id: binding.uri.value,
                                label: binding.label.value,
                                type: binding.type?.value || 'unknown',
                                similarity: similarity,
                                embedding: embedding
                            })
                        }
                    }
                } catch (parseError) {
                    logger.error('Failed to parse similarity result:', parseError)
                }
            }

            // Sort by similarity (highest first) and limit results
            similarElements.sort((a, b) => b.similarity - a.similarity)
            const results = similarElements.slice(0, limit)

            logger.info(`Found ${results.length} similar elements above threshold ${threshold}`)
            return results
        } catch (error) {
            logger.error('Error in similarity search:', error)
            return []
        }
    }

    /**
     * Graph traversal query with configurable depth
     * @param {string} startNodeId - Starting node URI
     * @param {number} depth - Maximum traversal depth
     * @param {Object} options - Traversal options (direction, relationTypes)
     * @returns {Promise&lt;Object>} Graph structure with nodes and edges
     */
    async traverseGraph(startNodeId, depth = 2, options = {}) {
        const { direction = 'both', relationTypes = [] } = options
        
        // Build property path for traversal
        let propertyPath = 'ragno:connectsTo'
        if (direction === 'outgoing') {
            propertyPath = 'ragno:connectsTo'
        } else if (direction === 'incoming') {
            propertyPath = '^ragno:connectsTo'
        } else {
            propertyPath = 'ragno:connectsTo|^ragno:connectsTo'
        }

        // Add specific relation types if specified
        if (relationTypes.length > 0) {
            const typeConstraints = relationTypes.map(t => `ragno:${t}`).join('|')
            propertyPath = `(${typeConstraints})`
        }

        const query = `
            PREFIX ragno: &lt;http://purl.org/stuff/ragno/>
            PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#>

            SELECT DISTINCT ?node ?label ?type ?distance WHERE {
                GRAPH &lt;${this.graphName}> {
                    &lt;${startNodeId}> (${propertyPath}){0,${depth}} ?node .
                    ?node rdfs:label ?label .
                    OPTIONAL { ?node rdf:type ?type }
                    
                    # Calculate distance (approximation)
                    {
                        SELECT ?node (COUNT(?intermediate) AS ?distance) WHERE {
                            &lt;${startNodeId}> (${propertyPath})* ?intermediate .
                            ?intermediate (${propertyPath})* ?node .
                        }
                        GROUP BY ?node
                    }
                }
            }
            ORDER BY ?distance ?label
        `

        try {
            const result = await this._executeSparqlQuery(query, this.endpoint.query)
            const nodes = new Map()
            const edges = []

            // Process nodes
            for (const binding of result.results.bindings) {
                const nodeId = binding.node.value
                nodes.set(nodeId, {
                    id: nodeId,
                    label: binding.label.value,
                    type: binding.type?.value || 'unknown',
                    distance: parseInt(binding.distance?.value) || 0
                })
            }

            // Get edges between discovered nodes
            const nodeIds = Array.from(nodes.keys())
            if (nodeIds.length > 1) {
                const edgeQuery = `
                    PREFIX ragno: &lt;http://purl.org/stuff/ragno/>
                    PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#>

                    SELECT ?source ?target ?label ?type WHERE {
                        GRAPH &lt;${this.graphName}> {
                            ?source ragno:connectsTo ?target .
                            ?source rdfs:label ?sourceLabel .
                            ?target rdfs:label ?targetLabel .
                            OPTIONAL { ?source rdfs:label ?label }
                            OPTIONAL { ?source rdf:type ?type }
                            
                            VALUES ?source { ${nodeIds.map(id => `&lt;${id}>`).join(' ')} }
                            VALUES ?target { ${nodeIds.map(id => `&lt;${id}>`).join(' ')} }
                        }
                    }
                `

                const edgeResult = await this._executeSparqlQuery(edgeQuery, this.endpoint.query)
                for (const binding of edgeResult.results.bindings) {
                    edges.push({
                        source: binding.source.value,
                        target: binding.target.value,
                        label: binding.label?.value || '',
                        type: binding.type?.value || 'connection'
                    })
                }
            }

            logger.info(`Traversed graph from ${startNodeId}: ${nodes.size} nodes, ${edges.length} edges`)
            return {
                nodes: Array.from(nodes.values()),
                edges: edges,
                startNode: startNodeId,
                depth: depth
            }
        } catch (error) {
            logger.error('Error in graph traversal:', error)
            return { nodes: [], edges: [], startNode: startNodeId, depth: depth }
        }
    }

    /**
     * Get corpus health and statistics
     * @returns {Promise&lt;Object>} Health check results with statistics
     */
    async validateCorpus() {
        const healthQuery = `
            PREFIX ragno: &lt;http://purl.org/stuff/ragno/>
            PREFIX semem: &lt;http://purl.org/stuff/semem/>

            SELECT 
                (COUNT(DISTINCT ?entity) AS ?entityCount)
                (COUNT(DISTINCT ?unit) AS ?unitCount) 
                (COUNT(DISTINCT ?relationship) AS ?relationshipCount)
                (COUNT(DISTINCT ?community) AS ?communityCount)
                (COUNT(DISTINCT ?embedding) AS ?embeddingCount)
            WHERE {
                GRAPH &lt;${this.graphName}> {
                    OPTIONAL { ?entity a ragno:Entity }
                    OPTIONAL { ?unit a ragno:SemanticUnit }
                    OPTIONAL { ?relationship a ragno:Relationship }
                    OPTIONAL { ?community a ragno:Community }
                    OPTIONAL { ?item semem:embedding ?embedding }
                }
            }
        `

        try {
            const result = await this._executeSparqlQuery(healthQuery, this.endpoint.query)
            const binding = result.results.bindings[0]

            const stats = {
                entityCount: parseInt(binding.entityCount?.value) || 0,
                unitCount: parseInt(binding.unitCount?.value) || 0,
                relationshipCount: parseInt(binding.relationshipCount?.value) || 0,
                communityCount: parseInt(binding.communityCount?.value) || 0,
                embeddingCount: parseInt(binding.embeddingCount?.value) || 0
            }

            // Calculate health score
            const totalElements = stats.entityCount + stats.unitCount + stats.relationshipCount
            const embeddingCoverage = totalElements > 0 ? stats.embeddingCount / totalElements : 0
            const connectivity = stats.relationshipCount > 0 ? stats.relationshipCount / stats.entityCount : 0

            const healthy = totalElements > 0 &amp;&amp; embeddingCoverage > SPARQL_CONFIG.HEALTH.MIN_EMBEDDING_COVERAGE &amp;&amp; connectivity > SPARQL_CONFIG.HEALTH.MIN_CONNECTIVITY

            const recommendations = []
            if (embeddingCoverage &lt; SPARQL_CONFIG.HEALTH.MIN_EMBEDDING_COVERAGE) {
                recommendations.push('Low embedding coverage - consider regenerating embeddings')
            }
            if (connectivity &lt; SPARQL_CONFIG.HEALTH.MIN_CONNECTIVITY) {
                recommendations.push('Low graph connectivity - consider adding more relationships')
            }
            if (stats.communityCount === 0) {
                recommendations.push('No communities detected - consider running community detection')
            }

            logger.info(`Corpus health check: ${totalElements} elements, ${embeddingCoverage.toFixed(2)} embedding coverage`)
            return {
                healthy,
                stats,
                embeddingCoverage,
                connectivity,
                recommendations
            }
        } catch (error) {
            logger.error('Error in corpus validation:', error)
            return {
                healthy: false,
                stats: {},
                error: error.message,
                recommendations: ['Unable to validate corpus - check SPARQL endpoint']
            }
        }
    }

    /**
     * Parse JSON value safely, returning empty object/array on failure
     * @param {string} jsonStr - JSON string to parse
     * @returns {any} Parsed value or default
     */
    _parseJsonValue(jsonStr) {
        if (!jsonStr || jsonStr === 'undefined') return {}
        try {
            return JSON.parse(jsonStr.trim())
        } catch (error) {
            logger.debug('Failed to parse JSON value:', error)
            return {}
        }
    }

    /**
     * Store an entity or memory item with embedding
     * @param {Object} data - Data to store (must have id, embedding, etc.)
     */
    async store(data) {
        if (!data || !data.id) {
            throw new Error('Data must have an id field')
        }

        const entityUri = `&lt;${data.id}>`
        
        // Use graph from metadata if provided, otherwise use default
        const targetGraph = (data.metadata &amp;&amp; data.metadata.graph) ? data.metadata.graph : this.graphName;

        const insertQuery = `
            PREFIX ragno: &lt;http://purl.org/stuff/ragno/>
            PREFIX skos: &lt;http://www.w3.org/2004/02/skos/core#>
            PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#>
            PREFIX dcterms: &lt;http://purl.org/dc/terms/>

            INSERT DATA {
                GRAPH &lt;${targetGraph}> {
                    ${entityUri} a ragno:Element ;
                        ragno:content "${this._escapeSparqlString(data.response || data.content || '')}" ;
                        skos:prefLabel "${this._escapeSparqlString(data.prompt || '')}" ;
                        ragno:embedding """${JSON.stringify(data.embedding || [])}""" ; # DEPRECATED: Use ragno:hasEmbedding  ragno:vectorContent pattern instead
                        dcterms:created "${new Date().toISOString()}"^^xsd:dateTime ;
                        ragno:timestamp "${data.timestamp || new Date().toISOString()}" .
                    ${data.concepts ? data.concepts.map(concept =>
            `${entityUri} ragno:connectsTo "${this._escapeSparqlString(concept)}" .`
        ).join('\n') : ''}
                    ${data.metadata ? Object.entries(data.metadata).map(([key, value]) =>
            `${entityUri} ragno:${key} "${this._escapeSparqlString(String(value))}" .`
        ).join('\n') : ''}
                }
            }
        `

        await this._executeSparqlUpdate(insertQuery, this.endpoint.update)
        logger.info(`Stored entity ${data.id} in SPARQL store`)
    }

    /**
     * Store extracted concepts as proper RDF entities with relationships
     * @param {Array} concepts - Array of concept objects from extraction
     * @param {string} sourceEntityUri - URI of the entity these concepts were extracted from
     */
    async storeConcepts(concepts, sourceEntityUri) {
        if (!concepts || !Array.isArray(concepts) || concepts.length === 0) {
            return;
        }

        const conceptStatements = [];
        const relationshipStatements = [];

        for (const concept of concepts) {
            const conceptUri = this.generateConceptURI(concept.label);
            
            // Store concept as ragno:Concept entity
            conceptStatements.push(`
                &lt;${conceptUri}> a ragno:Concept ;
                    rdfs:label "${this._escapeSparqlString(concept.label)}" ;
                    ragno:confidence "${concept.confidence || 0.5}"^^xsd:decimal ;
                    ragno:frequency "${concept.frequency || 1}"^^xsd:integer ;
                    ragno:conceptCategory "${concept.category || 'general'}" ;
                    ragno:extractedFrom &lt;${sourceEntityUri}> ;
                    dcterms:created "${new Date().toISOString()}"^^xsd:dateTime .
            `);

            // Create conceptual relationship between source entity and concept
            relationshipStatements.push(`
                &lt;${sourceEntityUri}> ragno:hasConceptualRelation &lt;${conceptUri}> .
            `);

            // Store concept embedding if available
            if (concept.embedding &amp;&amp; Array.isArray(concept.embedding)) {
                const embeddingUri = `${conceptUri}/embedding`;
                conceptStatements.push(`
                    &lt;${conceptUri}> ragno:hasEmbedding &lt;${embeddingUri}> .
                    &lt;${embeddingUri}> a ragno:ConceptEmbedding ;
                        ragno:vectorData """${JSON.stringify(concept.embedding)}""" ;
                        ragno:dimension "${concept.embedding.length}"^^xsd:integer .
                `);
            }
        }

        const insertQuery = `
            PREFIX ragno: &lt;http://purl.org/stuff/ragno/>
            PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#>
            PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#>
            PREFIX dcterms: &lt;http://purl.org/dc/terms/>

            INSERT DATA {
                GRAPH &lt;${this.graphName}> {
                    ${conceptStatements.join('\n')}
                    ${relationshipStatements.join('\n')}
                }
            }
        `;

        await this._executeSparqlUpdate(insertQuery, this.endpoint.update);
        logger.info(`Stored ${concepts.length} concepts for entity ${sourceEntityUri}`);
    }

    /**
     * Store concept relationships discovered through analysis
     * @param {Array} relationships - Array of relationship objects
     */
    async storeConceptRelationships(relationships) {
        if (!relationships || !Array.isArray(relationships) || relationships.length === 0) {
            return;
        }

        const relationshipStatements = [];

        for (const rel of relationships) {
            const sourceUri = this.generateConceptURI(rel.source);
            const targetUri = this.generateConceptURI(rel.target);
            const relationshipUri = `${sourceUri}/relationship/${encodeURIComponent(rel.target)}`;

            relationshipStatements.push(`
                &lt;${sourceUri}> ragno:hasConceptualRelation &lt;${targetUri}> .
                &lt;${relationshipUri}> a ragno:ConceptualRelationship ;
                    ragno:source &lt;${sourceUri}> ;
                    ragno:target &lt;${targetUri}> ;
                    ragno:relationType "${rel.type || 'related'}" ;
                    ragno:relationStrength "${rel.strength || 0.5}"^^xsd:decimal ;
                    ragno:bidirectional "${rel.bidirectional || false}"^^xsd:boolean ;
                    dcterms:created "${new Date().toISOString()}"^^xsd:dateTime .
            `);
        }

        const insertQuery = `
            PREFIX ragno: &lt;http://purl.org/stuff/ragno/>
            PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#>
            PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#>
            PREFIX dcterms: &lt;http://purl.org/dc/terms/>

            INSERT DATA {
                GRAPH &lt;${this.graphName}> {
                    ${relationshipStatements.join('\n')}
                }
            }
        `;

        await this._executeSparqlUpdate(insertQuery, this.endpoint.update);
        logger.info(`Stored ${relationships.length} concept relationships`);
    }

    /**
     * Generate a consistent URI for a concept based on its label
     */
    generateConceptURI(label) {
        const sanitized = label.toLowerCase()
            .replace(/[^a-z0-9]+/g, '-')
            .replace(/^-+|-+$/g, '');
        return `http://purl.org/stuff/ragno/concept/${sanitized}`;
    }

    /**
     * Query concepts by category, confidence, or relationships
     */
    async queryConceptsByFilter(filters = {}) {
        const filterClauses = [];
        
        if (filters.category) {
            filterClauses.push(`FILTER (?category = "${filters.category}")`);
        }
        
        if (filters.minConfidence) {
            filterClauses.push(`FILTER (?confidence >= ${filters.minConfidence})`);
        }
        
        if (filters.relatedTo) {
            const relatedUri = this.generateConceptURI(filters.relatedTo);
            filterClauses.push(`?concept ragno:hasConceptualRelation &lt;${relatedUri}> .`);
        }

        const query = `
            PREFIX ragno: &lt;http://purl.org/stuff/ragno/>
            PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#>
            PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#>

            SELECT DISTINCT ?concept ?label ?category ?confidence ?frequency ?embedding
            WHERE {
                GRAPH &lt;${this.graphName}> {
                    ?concept a ragno:Concept ;
                             rdfs:label ?label ;
                             ragno:conceptCategory ?category ;
                             ragno:confidence ?confidence ;
                             ragno:frequency ?frequency .
                    
                    OPTIONAL { 
                        ?concept ragno:hasEmbedding ?embResource .
                        ?embResource ragno:vectorData ?embedding 
                    }
                    
                    ${filterClauses.join('\n                    ')}
                }
            }
            ORDER BY DESC(?confidence) DESC(?frequency)
            LIMIT ${filters.limit || 100}
        `;

        const result = await this._executeSparqlQuery(query, this.endpoint.query);
        
        return result.results.bindings.map(binding => ({
            uri: binding.concept?.value,
            label: binding.label?.value,
            category: binding.category?.value,
            confidence: parseFloat(binding.confidence?.value || 0),
            frequency: parseInt(binding.frequency?.value || 1),
            embedding: binding.embedding?.value ? JSON.parse(binding.embedding.value) : null
        }));
    }

    /**
     * Search for similar items using basic string matching
     * @param {Array&lt;number>} queryEmbedding - Query embedding vector
     * @param {number} limit - Maximum number of results
     * @param {number} threshold - Similarity threshold (not used in this basic implementation)
     * @returns {Array&lt;Object>} Search results
     */
    async search(queryEmbedding, limit = SPARQL_CONFIG.SIMILARITY.DEFAULT_LIMIT, threshold = SPARQL_CONFIG.SIMILARITY.DEFAULT_THRESHOLD) {
        const searchQuery = `
            PREFIX ragno: &lt;http://purl.org/stuff/ragno/>
            PREFIX skos: &lt;http://www.w3.org/2004/02/skos/core#>
            PREFIX dcterms: &lt;http://purl.org/dc/terms/>
            PREFIX semem: &lt;http://purl.org/stuff/semem/>

            SELECT ?entity ?prompt ?content ?embedding ?timestamp ?type ?format ?response
            FROM &lt;${this.graphName}>
            WHERE {
                {
                    # Search in regular ragno:Element objects (old format) - DEPRECATED
                    ?entity a ragno:Element ;
                        skos:prefLabel ?prompt ;
                        ragno:content ?content ;
                        ragno:embedding ?embedding ;
                        ragno:timestamp ?timestamp .
                    OPTIONAL { ?entity ragno:type ?type }
                    BIND("old" AS ?format)
                    BIND(?content AS ?response)
                } UNION {
                    # Search in ragno:Unit chunks (new format)
                    ?entity a ragno:Unit ;
                        ragno:content ?content .
                    ?entity ragno:hasEmbedding ?embeddingUri .
                    ?embeddingUri ragno:vectorContent ?embedding .
                    OPTIONAL { ?entity dcterms:created ?timestamp }
                    BIND("Chunk" AS ?type)
                    BIND("new" AS ?format)
                    BIND(CONCAT("Document chunk: ", SUBSTR(?content, 1, 50), "...") AS ?prompt)
                    BIND(?content AS ?response)
                } UNION {
                    # Search in ragno:Concept embeddings (new format)
                    ?entity a ragno:Concept ;
                        skos:prefLabel ?prompt .
                    ?entity ragno:hasEmbedding ?embeddingUri .
                    ?embeddingUri ragno:vectorContent ?embedding .
                    OPTIONAL { ?entity dcterms:created ?timestamp }
                    BIND("Concept" AS ?type)
                    BIND("new" AS ?format)
                    BIND(?prompt AS ?content)
                    BIND(?prompt AS ?response)
                } UNION {
                    # Search in semem:Interaction objects (memory interactions)
                    ?entity a semem:Interaction ;
                        semem:prompt ?prompt ;
                        semem:output ?response ;
                        semem:embedding ?embedding ;
                        semem:timestamp ?timestamp .
                    BIND("Interaction" AS ?type)
                    BIND("memory" AS ?format)
                    BIND(CONCAT(?prompt, " ", ?response) AS ?content)
                }
            }
            LIMIT ${limit * 2}
        `

        try {
            const result = await this._executeSparqlQuery(searchQuery, this.endpoint.query)
            const searchResults = []

            for (const binding of result.results.bindings) {
                try {
                    let embedding = []
                    if (binding.embedding?.value &amp;&amp; binding.embedding.value !== 'undefined') {
                        try {
                            const embeddingStr = binding.embedding.value.trim()
                            // Handle both formats: direct JSON array or vector content with brackets
                            if (embeddingStr.startsWith('[') &amp;&amp; embeddingStr.endsWith(']')) {
                                embedding = JSON.parse(embeddingStr)
                            } else {
                                // Try to parse as simple comma-separated values wrapped in brackets
                                const cleaned = embeddingStr.replace(/^\[|\]$/g, '')
                                embedding = cleaned.split(',').map(x => parseFloat(x.trim())).filter(x => !isNaN(x))
                            }
                        } catch (embeddingError) {
                            logger.warn('Invalid embedding format:', embeddingError)
                        }
                    }

                    // Enhanced similarity calculation (cosine similarity)
                    let similarity = SPARQL_CONFIG.HEALTH.FAILED_SIMILARITY_SCORE
                    if (embedding.length > 0 &amp;&amp; queryEmbedding.length > 0) {
                        if (embedding.length === queryEmbedding.length) {
                            // Exact length match - use full cosine similarity
                            similarity = this._calculateCosineSimilarity(queryEmbedding, embedding)
                        } else {
                            // Length mismatch - try to salvage by truncating/padding to match
                            logger.debug(`Embedding length mismatch: query=${queryEmbedding.length}, stored=${embedding.length}, attempting repair`);
                            const adjustedEmbedding = this._adjustEmbeddingLength(embedding, queryEmbedding.length);
                            similarity = this._calculateCosineSimilarity(queryEmbedding, adjustedEmbedding);
                        }
                    }

                    if (similarity >= threshold) {
                        const format = binding.format?.value || 'unknown';
                        
                        // Log deprecation warning for old format
                        if (format === 'old') {
                            logger.warn('DEPRECATED: Found result using old ragno:embedding format. Consider migrating to ragno:hasEmbedding  ragno:vectorContent pattern.', {
                                entity: binding.entity.value,
                                type: binding.type?.value
                            });
                        }
                        
                        searchResults.push({
                            id: binding.entity.value,
                            prompt: binding.prompt.value,
                            response: binding.response?.value || binding.content.value,
                            similarity: similarity,
                            timestamp: binding.timestamp.value,
                            metadata: {
                                type: binding.type?.value || 'unknown',
                                format: format
                            }
                        })
                    }
                } catch (parseError) {
                    logger.error('Failed to parse search result:', parseError, binding)
                }
            }

            // Sort by format (new format first) then by similarity (highest first)
            searchResults.sort((a, b) => {
                // Prioritize new format over old format
                const formatPriorityA = a.metadata.format === 'new' ? 1 : 0;
                const formatPriorityB = b.metadata.format === 'new' ? 1 : 0;
                
                if (formatPriorityA !== formatPriorityB) {
                    return formatPriorityB - formatPriorityA; // New format first
                }
                
                // If same format, sort by similarity
                return b.similarity - a.similarity;
            })

            logger.info(`Found ${searchResults.length} similar items`)
            return searchResults.slice(0, limit)
        } catch (error) {
            logger.error('Error searching:', error)
            return []
        }
    }

    /**
     * Calculate cosine similarity between two vectors
     * @param {Array&lt;number>} vecA - First vector
     * @param {Array&lt;number>} vecB - Second vector  
     * @returns {number} Similarity score between 0 and 1
     */
    _calculateCosineSimilarity(vecA, vecB) {
        if (vecA.length !== vecB.length) return 0

        let dotProduct = 0
        let normA = 0
        let normB = 0

        for (let i = 0; i &lt; vecA.length; i++) {
            dotProduct += vecA[i] * vecB[i]
            normA += vecA[i] * vecA[i]
            normB += vecB[i] * vecB[i]
        }

        if (normA === 0 || normB === 0) return 0

        return dotProduct / (Math.sqrt(normA) * Math.sqrt(normB))
    }

    /**
     * Adjust embedding vector length to match target length
     * @param {Array&lt;number>} embedding - Source embedding vector
     * @param {number} targetLength - Target length to match
     * @returns {Array&lt;number>} Adjusted embedding vector
     */
    _adjustEmbeddingLength(embedding, targetLength) {
        if (embedding.length === targetLength) {
            return embedding;
        }
        
        if (embedding.length > targetLength) {
            // Truncate if too long
            return embedding.slice(0, targetLength);
        } else {
            // Pad with zeros if too short
            const padded = [...embedding];
            while (padded.length &lt; targetLength) {
                padded.push(0);
            }
            return padded;
        }
    }

    // Simple resilience mechanism with timeout and retries
    async executeWithResilience(operation, operationType = 'operation') {
        const { maxRetries, retryDelayMs } = this.resilience
        let lastError = null

        for (let attempt = 0; attempt &lt; maxRetries; attempt++) {
            try {
                return await operation()
            } catch (error) {
                lastError = error
                logger.warn(`SPARQL ${operationType} attempt ${attempt + 1}/${maxRetries} failed: ${error.message}`)
                
                if (attempt &lt; maxRetries - 1) {
                    const delay = retryDelayMs * Math.pow(2, attempt) // Exponential backoff
                    await new Promise(resolve => setTimeout(resolve, delay))
                }
            }
        }

        // If all retries failed, try fallback if enabled
        if (this.resilience.enableFallbacks &amp;&amp; operationType === 'query') {
            logger.warn(`SPARQL query failed after ${maxRetries} attempts, using fallback`)
            return this.getFallbackQueryResult()
        }

        throw new Error(`SPARQL ${operationType} failed after ${maxRetries} attempts: ${lastError?.message}`)
    }

    // Simple timeout wrapper
    async withTimeout(promise, timeoutMs) {
        return Promise.race([
            promise,
            new Promise((_, reject) => 
                setTimeout(() => reject(new Error('SPARQL operation timed out')), timeoutMs)
            )
        ])
    }

    // Simple fallback for failed queries
    getFallbackQueryResult() {
        return {
            results: {
                bindings: []
            }
        }
    }

    // Health check for SPARQL endpoint
    async healthCheck() {
        try {
            const testQuery = `
                PREFIX ragno: &lt;http://purl.org/stuff/ragno/>
                SELECT (COUNT(*) as ?count) WHERE { 
                    GRAPH &lt;${this.graphName}> { 
                        ?s a ragno:Entity 
                    } 
                } LIMIT 1`
            
            await this.withTimeout(
                this._executeSparqlQuery(testQuery, this.endpoint.query),
                5000 // 5 second timeout for health check
            )
            
            return { healthy: true, endpoint: this.endpoint.query }
        } catch (error) {
            return { 
                healthy: false, 
                endpoint: this.endpoint.query, 
                error: error.message 
            }
        }
    }

    // Public interface for executing SPARQL UPDATE queries
    async executeUpdate(updateQuery) {
        return await this._executeSparqlUpdate(updateQuery, this.endpoint.update);
    }

    // Public interface for executing SPARQL SELECT queries
    async executeSelect(selectQuery) {
        return await this._executeSparqlQuery(selectQuery, this.endpoint.query);
    }

    /**
     * Store content lazily without processing (no embeddings or concept extraction)
     * Uses ragno vocabulary to store raw content for later processing
     * @param {Object} data - Content data with id, content, type, metadata
     * @returns {Promise&lt;void>}
     */
    async storeLazyContent(data) {
        if (!data || !data.id) {
            throw new Error('Data must have an id field')
        }
        
        const elementUri = `&lt;${data.id}>`
        const timestamp = new Date().toISOString()
        
        // Use graph from metadata if provided, otherwise use default
        const targetGraph = (data.metadata &amp;&amp; data.metadata.graph) ? data.metadata.graph : this.graphName;
        
        // Determine ragno class based on content type
        let ragnoClass;
        switch (data.type) {
            case 'document':
                ragnoClass = 'ragno:TextElement';
                break;
            case 'concept':
                ragnoClass = 'ragno:Entity';
                break;
            case 'interaction':
            default:
                ragnoClass = 'ragno:Element';
                break;
        }
        
        const insertQuery = `
            PREFIX ragno: &lt;http://purl.org/stuff/ragno/>
            PREFIX zpt: &lt;http://purl.org/stuff/zpt/>
            PREFIX dcterms: &lt;http://purl.org/dc/terms/>
            PREFIX semem: &lt;http://purl.org/stuff/semem/>
            PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#>
            PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#>
            
            INSERT DATA {
                GRAPH &lt;${targetGraph}> {
                    ${elementUri} a ${ragnoClass} ;
                        ragno:content "${this._escapeSparqlString(data.content || '')}" ;
                        ragno:subType semem:${data.type || 'element'} ;
                        dcterms:created "${timestamp}"^^xsd:dateTime ;
                        semem:processingStatus "lazy" ;
                        ragno:isEntryPoint false ;
                        rdfs:label "${this._escapeSparqlString(data.prompt || data.title || 'Lazy Content')}" .
                    
                    ${data.metadata &amp;&amp; Object.keys(data.metadata).length > 0 ? 
                        Object.entries(data.metadata)
                            .map(([key, value]) => `${elementUri} semem:${this._escapeProperty(key)} "${this._escapeSparqlString(String(value))}" .`)
                            .join('\n                    ') 
                        : ''
                    }
                }
            }
        `
        
        await this._executeSparqlUpdate(insertQuery, this.endpoint.update)
        
        return {
            id: data.id,
            uri: data.id,
            stored: true,
            lazy: true,
            timestamp,
            ragnoClass: ragnoClass.split(':')[1]
        }
    }

    /**
     * Find lazy content that needs processing
     * @param {number} limit - Maximum number of items to return
     * @returns {Promise&lt;Array>} Array of lazy content items
     */
    async findLazyContent(limit = 10) {
        const query = `
            PREFIX ragno: &lt;http://purl.org/stuff/ragno/>
            PREFIX semem: &lt;http://purl.org/stuff/semem/>
            PREFIX dcterms: &lt;http://purl.org/dc/terms/>
            PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#>
            
            SELECT ?element ?content ?label ?type ?created WHERE {
                GRAPH &lt;${this.graphName}> {
                    ?element semem:processingStatus "lazy" ;
                             ragno:content ?content ;
                             rdfs:label ?label ;
                             dcterms:created ?created .
                    OPTIONAL { ?element ragno:subType ?type }
                }
            }
            ORDER BY DESC(?created)
            LIMIT ${limit}
        `
        
        const result = await this._executeSparqlQuery(query, this.endpoint.query)
        
        return result.results.bindings.map(binding => ({
            id: binding.element.value,
            content: binding.content.value,
            label: binding.label.value,
            type: binding.type?.value || 'element',
            created: binding.created.value
        }))
    }

    /**
     * Update lazy content to processed status
     * @param {string} elementId - Element ID to update
     * @param {Array} embedding - Generated embedding
     * @param {Array} concepts - Extracted concepts
     * @returns {Promise&lt;void>}
     */
    async updateLazyToProcessed(elementId, embedding = [], concepts = []) {
        const elementUri = `&lt;${elementId}>`
        const embeddingStr = JSON.stringify(embedding)
        const conceptsStr = concepts.map(c => `"${this._escapeSparqlString(c)}"`).join(', ')
        
        const updateQuery = `
            PREFIX ragno: &lt;http://purl.org/stuff/ragno/>
            PREFIX semem: &lt;http://purl.org/stuff/semem/>
            PREFIX skos: &lt;http://www.w3.org/2004/02/skos/core#>
            PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#>
            
            DELETE {
                GRAPH &lt;${this.graphName}> {
                    ${elementUri} semem:processingStatus "lazy" ;
                                  ragno:isEntryPoint false .
                }
            }
            INSERT {
                GRAPH &lt;${this.graphName}> {
                    ${elementUri} semem:processingStatus "processed" ;
                                  ragno:isEntryPoint true ;
                                  ragno:embedding "${this._escapeSparqlString(embeddingStr)}" .
                    ${concepts.length > 0 ? 
                        concepts.map(concept => 
                            `${elementUri} skos:related "${this._escapeSparqlString(concept)}" .`
                        ).join('\n                    ')
                        : ''
                    }
                }
            }
            WHERE {
                GRAPH &lt;${this.graphName}> {
                    ${elementUri} semem:processingStatus "lazy" .
                }
            }
        `
        
        await this._executeSparqlUpdate(updateQuery, this.endpoint.update)
    }

    /**
     * Store large document directly without memory processing
     * Used when content is too large for embedding generation
     * @param {Object} documentData - Document data to store
     * @returns {Promise&lt;void>}
     */
    async storeDocument(documentData) {
        logger.info('Storing large document directly to SPARQL without embeddings', {
            id: documentData.id,
            promptLength: documentData.prompt?.length || 0,
            responseLength: documentData.response?.length || 0
        });

        try {
            await this.beginTransaction();
            
            const documentUri = `${this.baseUri}document/${documentData.id}`;
            const insertQuery = `
                PREFIX ragno: &lt;http://purl.org/stuff/ragno/>
                PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#>
                PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#>
                PREFIX semem: &lt;http://purl.org/stuff/semem/>

                INSERT DATA {
                    GRAPH &lt;${this.graphName}> {
                        &lt;${documentUri}> a ragno:TextElement ;
                            rdfs:label "${this._escapeSparqlString(documentData.prompt?.substring(0, 100) || 'Large Document')}" ;
                            ragno:content "${this._escapeSparqlString(documentData.prompt + ' ' + documentData.response)}" ;
                            semem:prompt "${this._escapeSparqlString(documentData.prompt || '')}" ;
                            semem:output "${this._escapeSparqlString(documentData.response || '')}" ;
                            semem:timestamp "${documentData.timestamp}"^^xsd:long ;
                            ragno:processed "false"^^xsd:boolean ;
                            ragno:processingSkipped "${documentData.metadata?.processingSkipped || 'unknown'}" ;
                            ragno:contentLength "${(documentData.prompt + documentData.response).length}"^^xsd:integer .
                    }
                }
            `;

            await this._executeSparqlUpdate(insertQuery, this.endpoint.update);
            await this.commitTransaction();

            logger.info('Large document stored successfully', {
                uri: documentUri,
                contentLength: (documentData.prompt + documentData.response).length
            });

        } catch (error) {
            await this.rollbackTransaction();
            logger.error('Error storing large document to SPARQL:', error);
            throw error;
        }
    }

    /**
     * Helper method to escape property names for SPARQL
     * @param {string} property - Property name to escape
     * @returns {string} Escaped property name
     */
    _escapeProperty(property) {
        return property.replace(/[^a-zA-Z0-9_]/g, '_')
    }
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-services_document.html">services/document</a></li></ul><h3>Classes</h3><ul><li><a href="APIServer.html">APIServer</a></li><li><a href="ApiService.html">ApiService</a></li><li><a href="AskOperationTimer.html">AskOperationTimer</a></li><li><a href="BaseVisualization.html">BaseVisualization</a></li><li><a href="ChatManager.html">ChatManager</a></li><li><a href="ClientConnector.html">ClientConnector</a></li><li><a href="Clustering.html">Clustering</a></li><li><a href="CommunityElement.html">CommunityElement</a></li><li><a href="ConsoleService.html">ConsoleService</a></li><li><a href="DomUtils.html">DomUtils</a></li><li><a href="EmbeddingCreator.html">EmbeddingCreator</a></li><li><a href="EmbeddingService.html">EmbeddingService</a></li><li><a href="FeatureFlags.html">FeatureFlags</a></li><li><a href="FeatureMaps.html">FeatureMaps</a></li><li><a href="GradualMigration.html">GradualMigration</a></li><li><a href="GraphAPI.html">GraphAPI</a></li><li><a href="HTML2MD.html">HTML2MD</a></li><li><a href="LogCyclingManager.html">LogCyclingManager</a></li><li><a href="MCPClient.html">MCPClient</a></li><li><a href="MCPPromptsCompat.html">MCPPromptsCompat</a></li><li><a href="MemoryAdvancedSearch.html">MemoryAdvancedSearch</a></li><li><a href="MemoryClustersViz.html">MemoryClustersViz</a></li><li><a href="MemoryGraphViz.html">MemoryGraphViz</a></li><li><a href="MemoryTimelineViz.html">MemoryTimelineViz</a></li><li><a href="MemoryVisualizationManager.html">MemoryVisualizationManager</a></li><li><a href="MigrationHelper.html">MigrationHelper</a></li><li><a href="OperationTimer.html">OperationTimer</a></li><li><a href="OperationTracker.html">OperationTracker</a></li><li><a href="Processor.html">Processor</a></li><li><a href="PromptContext.html">PromptContext</a></li><li><a href="PromptFormatterCompat.html">PromptFormatterCompat</a></li><li><a href="PromptMetrics.html">PromptMetrics</a></li><li><a href="PromptOptions.html">PromptOptions</a></li><li><a href="PromptResult.html">PromptResult</a></li><li><a href="PromptTemplate.html">PromptTemplate</a></li><li><a href="PromptTemplatesCompat.html">PromptTemplatesCompat</a></li><li><a href="PromptValidation.html">PromptValidation</a></li><li><a href="RagnoAPIServer.html">RagnoAPIServer</a></li><li><a href="SOMGrid.html">SOMGrid</a></li><li><a href="SPARQLService.html">SPARQLService</a></li><li><a href="SearchAPIEnhanced.html">SearchAPIEnhanced</a></li><li><a href="SearchServer.html">SearchServer</a></li><li><a href="SearchService.html">SearchService</a></li><li><a href="StructuredLogger.html">StructuredLogger</a></li><li><a href="StructuredLoggerFactory.html">StructuredLoggerFactory</a></li><li><a href="TabManager.html">TabManager</a></li><li><a href="TellOperationTimer.html">TellOperationTimer</a></li><li><a href="TrainingViz.html">TrainingViz</a></li><li><a href="UIServer.html">UIServer</a></li><li><a href="VSOMController.html">VSOMController</a></li><li><a href="VSOMService.html">VSOMService</a></li><li><a href="VSOMVisualization.html">VSOMVisualization</a></li><li><a href="ZPTDataFactory.html">ZPTDataFactory</a></li><li><a href="ZPTQueryBuilder.html">ZPTQueryBuilder</a></li><li><a href="module.html#.exports">exports</a></li><li><a href="module.exports_module.exports.html">exports</a></li></ul><h3>Global</h3><ul><li><a href="global.html#INCOMPLETE_PATTERNS">INCOMPLETE_PATTERNS</a></li><li><a href="global.html#NamespaceUtils">NamespaceUtils</a></li><li><a href="global.html#PromptTemplates">PromptTemplates</a></li><li><a href="global.html#SPARQL_PREFIXES">SPARQL_PREFIXES</a></li><li><a href="global.html#UnifiedPromptSystem">UnifiedPromptSystem</a></li><li><a href="global.html#ZPTQueryTemplates">ZPTQueryTemplates</a></li><li><a href="global.html#ZPTQueryUtils">ZPTQueryUtils</a></li><li><a href="global.html#ZPTUtils">ZPTUtils</a></li><li><a href="global.html#ZPT_STRING_MAPPINGS">ZPT_STRING_MAPPINGS</a></li><li><a href="global.html#ZPT_URI_MAPPINGS">ZPT_URI_MAPPINGS</a></li><li><a href="global.html#_adjustEmbeddingLength">_adjustEmbeddingLength</a></li><li><a href="global.html#_analyzeQuery">_analyzeQuery</a></li><li><a href="global.html#_buildContext">_buildContext</a></li><li><a href="global.html#_buildFilterClauses">_buildFilterClauses</a></li><li><a href="global.html#_calculateCosineSimilarity">_calculateCosineSimilarity</a></li><li><a href="global.html#_calculateFinalScore">_calculateFinalScore</a></li><li><a href="global.html#_callChat">_callChat</a></li><li><a href="global.html#_callCompletion">_callCompletion</a></li><li><a href="global.html#_createConversation">_createConversation</a></li><li><a href="global.html#_createCorpusInterface">_createCorpusInterface</a></li><li><a href="global.html#_createResult">_createResult</a></li><li><a href="global.html#_determineStrategy">_determineStrategy</a></li><li><a href="global.html#_emitMetric">_emitMetric</a></li><li><a href="global.html#_escapeProperty">_escapeProperty</a></li><li><a href="global.html#_escapeTripleQuotedString">_escapeTripleQuotedString</a></li><li><a href="global.html#_estimateServiceRelevance">_estimateServiceRelevance</a></li><li><a href="global.html#_estimateTokens">_estimateTokens</a></li><li><a href="global.html#_executeArticleLookup">_executeArticleLookup</a></li><li><a href="global.html#_executeBatchSearch">_executeBatchSearch</a></li><li><a href="global.html#_executeCategorySearch">_executeCategorySearch</a></li><li><a href="global.html#_executeConceptDiscovery">_executeConceptDiscovery</a></li><li><a href="global.html#_executeConceptResearch">_executeConceptResearch</a></li><li><a href="global.html#_executeEntityLookup">_executeEntityLookup</a></li><li><a href="global.html#_executeEntitySearch">_executeEntitySearch</a></li><li><a href="global.html#_executeIngest">_executeIngest</a></li><li><a href="global.html#_executeNavigationFallback">_executeNavigationFallback</a></li><li><a href="global.html#_executeParallelSearches">_executeParallelSearches</a></li><li><a href="global.html#_executeSPARQLQuery">_executeSPARQLQuery</a></li><li><a href="global.html#_executeSPARQLUpdate">_executeSPARQLUpdate</a></li><li><a href="global.html#_executeSearch">_executeSearch</a></li><li><a href="global.html#_executeSequentialSearches">_executeSequentialSearches</a></li><li><a href="global.html#_executeServiceSearch">_executeServiceSearch</a></li><li><a href="global.html#_extractCommonResources">_extractCommonResources</a></li><li><a href="global.html#_formatEntity">_formatEntity</a></li><li><a href="global.html#_formatRDFObject">_formatRDFObject</a></li><li><a href="global.html#_formatRelationship">_formatRelationship</a></li><li><a href="global.html#_formatSemanticUnit">_formatSemanticUnit</a></li><li><a href="global.html#_getConversation">_getConversation</a></li><li><a href="global.html#_getWorkflowMetadata">_getWorkflowMetadata</a></li><li><a href="global.html#_handleError">_handleError</a></li><li><a href="global.html#_initializeZPTComponents">_initializeZPTComponents</a></li><li><a href="global.html#_logStep">_logStep</a></li><li><a href="global.html#_measureTime">_measureTime</a></li><li><a href="global.html#_mergeConfig">_mergeConfig</a></li><li><a href="global.html#_normalizeResults">_normalizeResults</a></li><li><a href="global.html#_parseJsonValue">_parseJsonValue</a></li><li><a href="global.html#_parseQueryResults">_parseQueryResults</a></li><li><a href="global.html#_parseSPARQLResults">_parseSPARQLResults</a></li><li><a href="global.html#_rankAndMergeResults">_rankAndMergeResults</a></li><li><a href="global.html#_sanitizeParams">_sanitizeParams</a></li><li><a href="global.html#_searchEntities">_searchEntities</a></li><li><a href="global.html#_searchSemantic">_searchSemantic</a></li><li><a href="global.html#_selectServices">_selectServices</a></li><li><a href="global.html#_serializeTriples">_serializeTriples</a></li><li><a href="global.html#_simpleMergeResults">_simpleMergeResults</a></li><li><a href="global.html#_storeRDFInSPARQL">_storeRDFInSPARQL</a></li><li><a href="global.html#_triplesToJSON">_triplesToJSON</a></li><li><a href="global.html#_updateAverage">_updateAverage</a></li><li><a href="global.html#_validateFile">_validateFile</a></li><li><a href="global.html#_validateInput">_validateInput</a></li><li><a href="global.html#_validateParams">_validateParams</a></li><li><a href="global.html#_validateResources">_validateResources</a></li><li><a href="global.html#adaptiveChunking">adaptiveChunking</a></li><li><a href="global.html#addAltLabel">addAltLabel</a></li><li><a href="global.html#addAlternativeName">addAlternativeName</a></li><li><a href="global.html#addAttribute">addAttribute</a></li><li><a href="global.html#addChunkOverlap">addChunkOverlap</a></li><li><a href="global.html#addChunkRelationships">addChunkRelationships</a></li><li><a href="global.html#addContent">addContent</a></li><li><a href="global.html#addEntityConnection">addEntityConnection</a></li><li><a href="global.html#addEntityMention">addEntityMention</a></li><li><a href="global.html#addEvidence">addEvidence</a></li><li><a href="global.html#addHypothesisToRDF">addHypothesisToRDF</a></li><li><a href="global.html#addInstructions">addInstructions</a></li><li><a href="global.html#addKeyword">addKeyword</a></li><li><a href="global.html#addLabel">addLabel</a></li><li><a href="global.html#addNamespace">addNamespace</a></li><li><a href="global.html#addNode">addNode</a></li><li><a href="global.html#addNodeToIndex">addNodeToIndex</a></li><li><a href="global.html#addNodesBatch">addNodesBatch</a></li><li><a href="global.html#addNodesToIndex">addNodesToIndex</a></li><li><a href="global.html#addProvenance">addProvenance</a></li><li><a href="global.html#addRelationshipTo">addRelationshipTo</a></li><li><a href="global.html#addSource">addSource</a></li><li><a href="global.html#addToContext">addToContext</a></li><li><a href="global.html#addTooltip">addTooltip</a></li><li><a href="global.html#addTriple">addTriple</a></li><li><a href="global.html#addType">addType</a></li><li><a href="global.html#addUnitConnection">addUnitConnection</a></li><li><a href="global.html#addZoom">addZoom</a></li><li><a href="global.html#adjustForTboxEnvironment">adjustForTboxEnvironment</a></li><li><a href="global.html#advancedEstimation">advancedEstimation</a></li><li><a href="global.html#aggregateCommunities">aggregateCommunities</a></li><li><a href="global.html#aggregationPhase">aggregationPhase</a></li><li><a href="global.html#analyzeCompleteness">analyzeCompleteness</a></li><li><a href="global.html#analyzeConfidenceDistribution">analyzeConfidenceDistribution</a></li><li><a href="global.html#analyzeContentType">analyzeContentType</a></li><li><a href="global.html#analyzeNavigation">analyzeNavigation</a></li><li><a href="global.html#analyzeQuery">analyzeQuery</a></li><li><a href="global.html#analyzeTextStructure">analyzeTextStructure</a></li><li><a href="global.html#applyContentAdjustments">applyContentAdjustments</a></li><li><a href="global.html#applyDeduplication">applyDeduplication</a></li><li><a href="global.html#applyDiversityFilter">applyDiversityFilter</a></li><li><a href="global.html#applyEntityFilter">applyEntityFilter</a></li><li><a href="global.html#applyEntityFilters">applyEntityFilters</a></li><li><a href="global.html#applyFilters">applyFilters</a></li><li><a href="global.html#applyFormatting">applyFormatting</a></li><li><a href="global.html#applyGeographicFilter">applyGeographicFilter</a></li><li><a href="global.html#applyMemoryDomainFilter">applyMemoryDomainFilter</a></li><li><a href="global.html#applyMemoryFilter">applyMemoryFilter</a></li><li><a href="global.html#applyPrivacyFilters">applyPrivacyFilters</a></li><li><a href="global.html#applyRanking">applyRanking</a></li><li><a href="global.html#applyRelevanceFiltering">applyRelevanceFiltering</a></li><li><a href="global.html#applyTemporalFilter">applyTemporalFilter</a></li><li><a href="global.html#applyTokenizerAdjustments">applyTokenizerAdjustments</a></li><li><a href="global.html#applyTopicFilter">applyTopicFilter</a></li><li><a href="global.html#applyTypeFiltering">applyTypeFiltering</a></li><li><a href="global.html#attemptRecovery">attemptRecovery</a></li><li><a href="global.html#augmentWithAttributes">augmentWithAttributes</a></li><li><a href="global.html#balanceChunkSizes">balanceChunkSizes</a></li><li><a href="global.html#batchCountTokens">batchCountTokens</a></li><li><a href="global.html#batchInsertData">batchInsertData</a></li><li><a href="global.html#batchResearch">batchResearch</a></li><li><a href="global.html#beerqaTemplates">beerqaTemplates</a></li><li><a href="global.html#buildAggregationQuery">buildAggregationQuery</a></li><li><a href="global.html#buildBatchConceptInsert">buildBatchConceptInsert</a></li><li><a href="global.html#buildBatchFrequencyUpdate">buildBatchFrequencyUpdate</a></li><li><a href="global.html#buildBatchRelationshipUpdate">buildBatchRelationshipUpdate</a></li><li><a href="global.html#buildCacheKey">buildCacheKey</a></li><li><a href="global.html#buildCommunities">buildCommunities</a></li><li><a href="global.html#buildCompletenessFunction">buildCompletenessFunction</a></li><li><a href="global.html#buildConceptFilter">buildConceptFilter</a></li><li><a href="global.html#buildConceptFilters">buildConceptFilters</a></li><li><a href="global.html#buildConceptQuery">buildConceptQuery</a></li><li><a href="global.html#buildConnectivityFunction">buildConnectivityFunction</a></li><li><a href="global.html#buildConstraints">buildConstraints</a></li><li><a href="global.html#buildContext">buildContext</a></li><li><a href="global.html#buildCriteria">buildCriteria</a></li><li><a href="global.html#buildDiversityFunction">buildDiversityFunction</a></li><li><a href="global.html#buildEntityDetailsQuery">buildEntityDetailsQuery</a></li><li><a href="global.html#buildEntityExtractionPrompt">buildEntityExtractionPrompt</a></li><li><a href="global.html#buildEntityFilter">buildEntityFilter</a></li><li><a href="global.html#buildEntityRule">buildEntityRule</a></li><li><a href="global.html#buildExactMatchQuery">buildExactMatchQuery</a></li><li><a href="global.html#buildFilters">buildFilters</a></li><li><a href="global.html#buildFormattingContext">buildFormattingContext</a></li><li><a href="global.html#buildGeographicFilter">buildGeographicFilter</a></li><li><a href="global.html#buildGeographicRule">buildGeographicRule</a></li><li><a href="global.html#buildGraphFromRDF">buildGraphFromRDF</a></li><li><a href="global.html#buildGraphTraversalQuery">buildGraphTraversalQuery</a></li><li><a href="global.html#buildLimit">buildLimit</a></li><li><a href="global.html#buildOptimizationRules">buildOptimizationRules</a></li><li><a href="global.html#buildOrderBy">buildOrderBy</a></li><li><a href="global.html#buildPrimaryRules">buildPrimaryRules</a></li><li><a href="global.html#buildQuery">buildQuery</a></li><li><a href="global.html#buildRecencyFunction">buildRecencyFunction</a></li><li><a href="global.html#buildRelevanceFunction">buildRelevanceFunction</a></li><li><a href="global.html#buildScoringRules">buildScoringRules</a></li><li><a href="global.html#buildSecondaryRules">buildSecondaryRules</a></li><li><a href="global.html#buildSelectClause">buildSelectClause</a></li><li><a href="global.html#buildSelectionResult">buildSelectionResult</a></li><li><a href="global.html#buildSimilarityFilters">buildSimilarityFilters</a></li><li><a href="global.html#buildSimilarityQuery">buildSimilarityQuery</a></li><li><a href="global.html#buildTemporalFilter">buildTemporalFilter</a></li><li><a href="global.html#buildTemporalRule">buildTemporalRule</a></li><li><a href="global.html#buildTopicFilter">buildTopicFilter</a></li><li><a href="global.html#buildTopicRule">buildTopicRule</a></li><li><a href="global.html#buildTransformationContext">buildTransformationContext</a></li><li><a href="global.html#buildTransitionMatrix">buildTransitionMatrix</a></li><li><a href="global.html#buildTypeFilter">buildTypeFilter</a></li><li><a href="global.html#calculateAttributeConfidence">calculateAttributeConfidence</a></li><li><a href="global.html#calculateCacheHitRate">calculateCacheHitRate</a></li><li><a href="global.html#calculateCentroid">calculateCentroid</a></li><li><a href="global.html#calculateChunkSize">calculateChunkSize</a></li><li><a href="global.html#calculateClusterCentroid">calculateClusterCentroid</a></li><li><a href="global.html#calculateCommunityCohesion">calculateCommunityCohesion</a></li><li><a href="global.html#calculateComplexity">calculateComplexity</a></li><li><a href="global.html#calculateConceptSimilarity">calculateConceptSimilarity</a></li><li><a href="global.html#calculateConfidence">calculateConfidence</a></li><li><a href="global.html#calculateContentSimilarity">calculateContentSimilarity</a></li><li><a href="global.html#calculateCosineSimilarity">calculateCosineSimilarity</a></li><li><a href="global.html#calculateDistance">calculateDistance</a></li><li><a href="global.html#calculateHexagonalDistance">calculateHexagonalDistance</a></li><li><a href="global.html#calculateHybridScore">calculateHybridScore</a></li><li><a href="global.html#calculateLearningRate">calculateLearningRate</a></li><li><a href="global.html#calculateMapDistance">calculateMapDistance</a></li><li><a href="global.html#calculateMemoryImportance">calculateMemoryImportance</a></li><li><a href="global.html#calculateModularity">calculateModularity</a></li><li><a href="global.html#calculateModularityGain">calculateModularityGain</a></li><li><a href="global.html#calculateNeighborhoodRadius">calculateNeighborhoodRadius</a></li><li><a href="global.html#calculateNodeSimilarity">calculateNodeSimilarity</a></li><li><a href="global.html#calculateQualityMetrics">calculateQualityMetrics</a></li><li><a href="global.html#calculateQuantizationError">calculateQuantizationError</a></li><li><a href="global.html#calculateQueryConfidence">calculateQueryConfidence</a></li><li><a href="global.html#calculateRectangularDistance">calculateRectangularDistance</a></li><li><a href="global.html#calculateRelationshipStrength">calculateRelationshipStrength</a></li><li><a href="global.html#calculateSemanticConnectivity">calculateSemanticConnectivity</a></li><li><a href="global.html#calculateSummaryConfidence">calculateSummaryConfidence</a></li><li><a href="global.html#calculateTopographicError">calculateTopographicError</a></li><li><a href="global.html#calculateWeightedScore">calculateWeightedScore</a></li><li><a href="global.html#canResolveFusekiHostname">canResolveFusekiHostname</a></li><li><a href="global.html#checkAPIHealth">checkAPIHealth</a></li><li><a href="global.html#checkContentSimilarity">checkContentSimilarity</a></li><li><a href="global.html#checkContextLimits">checkContextLimits</a></li><li><a href="global.html#checkConvergence">checkConvergence</a></li><li><a href="global.html#checkDependencyHealth">checkDependencyHealth</a></li><li><a href="global.html#checkRateLimit">checkRateLimit</a></li><li><a href="global.html#checkSystemHealth">checkSystemHealth</a></li><li><a href="global.html#chunk">chunk</a></li><li><a href="global.html#chunkCorpuscles">chunkCorpuscles</a></li><li><a href="global.html#chunkDocument">chunkDocument</a></li><li><a href="global.html#chunkHierarchicalText">chunkHierarchicalText</a></li><li><a href="global.html#chunkText">chunkText</a></li><li><a href="global.html#classifyError">classifyError</a></li><li><a href="global.html#cleanHtml">cleanHtml</a></li><li><a href="global.html#cleanSnippet">cleanSnippet</a></li><li><a href="global.html#cleanup">cleanup</a></li><li><a href="global.html#cleanupPartialInitialization">cleanupPartialInitialization</a></li><li><a href="global.html#clear">clear</a></li><li><a href="global.html#clearCache">clearCache</a></li><li><a href="global.html#clearCaches">clearCaches</a></li><li><a href="global.html#clearGraph">clearGraph</a></li><li><a href="global.html#clearStatistics">clearStatistics</a></li><li><a href="global.html#clearVectorIndex">clearVectorIndex</a></li><li><a href="global.html#clone">clone</a></li><li><a href="global.html#cluster">cluster</a></li><li><a href="global.html#clusterHypotheticalEntities">clusterHypotheticalEntities</a></li><li><a href="global.html#combineResults">combineResults</a></li><li><a href="global.html#combineSearchResults">combineSearchResults</a></li><li><a href="global.html#combinedResearch">combinedResearch</a></li><li><a href="global.html#compileTrainingResults">compileTrainingResults</a></li><li><a href="global.html#compose">compose</a></li><li><a href="global.html#compress">compress</a></li><li><a href="global.html#compressMetadata">compressMetadata</a></li><li><a href="global.html#computeBetweennessCentrality">computeBetweennessCentrality</a></li><li><a href="global.html#computeCommunityStatistics">computeCommunityStatistics</a></li><li><a href="global.html#computeGraphStatistics">computeGraphStatistics</a></li><li><a href="global.html#computeKCore">computeKCore</a></li><li><a href="global.html#computeLeidenClustering">computeLeidenClustering</a></li><li><a href="global.html#computeSimilarityLinks">computeSimilarityLinks</a></li><li><a href="global.html#conditional">conditional</a></li><li><a href="global.html#connectElements">connectElements</a></li><li><a href="global.html#connectTo">connectTo</a></li><li><a href="global.html#connects">connects</a></li><li><a href="global.html#convert">convert</a></li><li><a href="global.html#convertBuffer">convertBuffer</a></li><li><a href="global.html#convertDocument">convertDocument</a></li><li><a href="global.html#convertEntity">convertEntity</a></li><li><a href="global.html#convertParametersToZPTURIs">convertParametersToZPTURIs</a></li><li><a href="global.html#convertParams">convertParams</a></li><li><a href="global.html#convertString">convertString</a></li><li><a href="global.html#convertToCSV">convertToCSV</a></li><li><a href="global.html#coordinatesToIndex">coordinatesToIndex</a></li><li><a href="global.html#cosineDistance">cosineDistance</a></li><li><a href="global.html#countRules">countRules</a></li><li><a href="global.html#countTokens">countTokens</a></li><li><a href="global.html#create">create</a></li><li><a href="global.html#createAdaptiveChunk">createAdaptiveChunk</a></li><li><a href="global.html#createAttribute">createAttribute</a></li><li><a href="global.html#createAttributeRelationships">createAttributeRelationships</a></li><li><a href="global.html#createBackup">createBackup</a></li><li><a href="global.html#createBatches">createBatches</a></li><li><a href="global.html#createBidirectional">createBidirectional</a></li><li><a href="global.html#createCacheKey">createCacheKey</a></li><li><a href="global.html#createClearGraphQuery">createClearGraphQuery</a></li><li><a href="global.html#createColorScale">createColorScale</a></li><li><a href="global.html#createCompactRepresentation">createCompactRepresentation</a></li><li><a href="global.html#createCompatibilityMappings">createCompatibilityMappings</a></li><li><a href="global.html#createConnector">createConnector</a></li><li><a href="global.html#createCorpuscleForUnit">createCorpuscleForUnit</a></li><li><a href="global.html#createCrossReference">createCrossReference</a></li><li><a href="global.html#createDeleteInsertQuery">createDeleteInsertQuery</a></li><li><a href="global.html#createDirectConceptFilter">createDirectConceptFilter</a></li><li><a href="global.html#createDirectEntityFilter">createDirectEntityFilter</a></li><li><a href="global.html#createDropGraphQuery">createDropGraphQuery</a></li><li><a href="global.html#createEmbeddingConnector">createEmbeddingConnector</a></li><li><a href="global.html#createEmbeddings">createEmbeddings</a></li><li><a href="global.html#createEmptyResult">createEmptyResult</a></li><li><a href="global.html#createEmptyResults">createEmptyResults</a></li><li><a href="global.html#createEntity">createEntity</a></li><li><a href="global.html#createExactTemporalFilter">createExactTemporalFilter</a></li><li><a href="global.html#createExactTopicFilter">createExactTopicFilter</a></li><li><a href="global.html#createHypothesisPrompt">createHypothesisPrompt</a></li><li><a href="global.html#createHypothesisRelationships">createHypothesisRelationships</a></li><li><a href="global.html#createHypothesisUnit">createHypothesisUnit</a></li><li><a href="global.html#createInsertDataQuery">createInsertDataQuery</a></li><li><a href="global.html#createInsertQuery">createInsertQuery</a></li><li><a href="global.html#createInstance">createInstance</a></li><li><a href="global.html#createInterCommunityRelationships">createInterCommunityRelationships</a></li><li><a href="global.html#createLegend">createLegend</a></li><li><a href="global.html#createLiteral">createLiteral</a></li><li><a href="global.html#createNamedNode">createNamedNode</a></li><li><a href="global.html#createNamespace">createNamespace</a></li><li><a href="global.html#createNamespaceObject">createNamespaceObject</a></li><li><a href="global.html#createNeighborhoodFunction">createNeighborhoodFunction</a></li><li><a href="global.html#createOverview">createOverview</a></li><li><a href="global.html#createParameterHash">createParameterHash</a></li><li><a href="global.html#createPointGeographicFilter">createPointGeographicFilter</a></li><li><a href="global.html#createPromptContext">createPromptContext</a></li><li><a href="global.html#createPromptManager">createPromptManager</a></li><li><a href="global.html#createRagnoStructure">createRagnoStructure</a></li><li><a href="global.html#createRelationship">createRelationship</a></li><li><a href="global.html#createResponsiveSVG">createResponsiveSVG</a></li><li><a href="global.html#createSOMInstance">createSOMInstance</a></li><li><a href="global.html#createSemanticChunk">createSemanticChunk</a></li><li><a href="global.html#createTextUnit">createTextUnit</a></li><li><a href="global.html#createTooltip">createTooltip</a></li><li><a href="global.html#createURI">createURI</a></li><li><a href="global.html#createUnit">createUnit</a></li><li><a href="global.html#cubeToOffset">cubeToOffset</a></li><li><a href="global.html#debounce">debounce</a></li><li><a href="global.html#decode">decode</a></li><li><a href="global.html#decomposeCorpus">decomposeCorpus</a></li><li><a href="global.html#decomposeText">decomposeText</a></li><li><a href="global.html#deduplicateByContent">deduplicateByContent</a></li><li><a href="global.html#deduplicateByURI">deduplicateByURI</a></li><li><a href="global.html#deduplicateHybrid">deduplicateHybrid</a></li><li><a href="global.html#deleteDocument">deleteDocument</a></li><li><a href="global.html#deleteInstance">deleteInstance</a></li><li><a href="global.html#detectCommunities">detectCommunities</a></li><li><a href="global.html#detectTboxEnvironment">detectTboxEnvironment</a></li><li><a href="global.html#detectTopicDomain">detectTopicDomain</a></li><li><a href="global.html#determineCorpuscleType">determineCorpuscleType</a></li><li><a href="global.html#determineResponseType">determineResponseType</a></li><li><a href="global.html#displayError">displayError</a></li><li><a href="global.html#displayRecallResults">displayRecallResults</a></li><li><a href="global.html#dispose">dispose</a></li><li><a href="global.html#dropGraph">dropGraph</a></li><li><a href="global.html#dryRun">dryRun</a></li><li><a href="global.html#encode">encode</a></li><li><a href="global.html#encodeStructured">encodeStructured</a></li><li><a href="global.html#enhanceClustersWithCentrality">enhanceClustersWithCentrality</a></li><li><a href="global.html#enhanceNavigation">enhanceNavigation</a></li><li><a href="global.html#enhanceSearchResults">enhanceSearchResults</a></li><li><a href="global.html#enrichGraph">enrichGraph</a></li><li><a href="global.html#enrichWithContext">enrichWithContext</a></li><li><a href="global.html#enrichWithEmbeddings">enrichWithEmbeddings</a></li><li><a href="global.html#ensureInitialized">ensureInitialized</a></li><li><a href="global.html#escapeString">escapeString</a></li><li><a href="global.html#estimateConceptSelectivity">estimateConceptSelectivity</a></li><li><a href="global.html#estimateConfidence">estimateConfidence</a></li><li><a href="global.html#estimateCost">estimateCost</a></li><li><a href="global.html#estimateMemoryUsage">estimateMemoryUsage</a></li><li><a href="global.html#estimateResults">estimateResults</a></li><li><a href="global.html#estimateSegmentSize">estimateSegmentSize</a></li><li><a href="global.html#estimateSelectivity">estimateSelectivity</a></li><li><a href="global.html#estimateTokenCount">estimateTokenCount</a></li><li><a href="global.html#estimateTokensPerResult">estimateTokensPerResult</a></li><li><a href="global.html#estimateTopicSelectivity">estimateTopicSelectivity</a></li><li><a href="global.html#euclideanDistance">euclideanDistance</a></li><li><a href="global.html#execute">execute</a></li><li><a href="global.html#executeNavigationPipeline">executeNavigationPipeline</a></li><li><a href="global.html#executeOperation">executeOperation</a></li><li><a href="global.html#executeQuery">executeQuery</a></li><li><a href="global.html#executeResearch">executeResearch</a></li><li><a href="global.html#executeSPARQLQuery">executeSPARQLQuery</a></li><li><a href="global.html#executeSPARQLUpdate">executeSPARQLUpdate</a></li><li><a href="global.html#executeSelect">executeSelect</a></li><li><a href="global.html#executeSparqlQuery">executeSparqlQuery</a></li><li><a href="global.html#executeStageWithTimeout">executeStageWithTimeout</a></li><li><a href="global.html#executeTemplate">executeTemplate</a></li><li><a href="global.html#executeUpdate">executeUpdate</a></li><li><a href="global.html#executeUpdates">executeUpdates</a></li><li><a href="global.html#executeWithTimeout">executeWithTimeout</a></li><li><a href="global.html#expandCluster">expandCluster</a></li><li><a href="global.html#expandQueryTerms">expandQueryTerms</a></li><li><a href="global.html#exportAllResultsToRDF">exportAllResultsToRDF</a></li><li><a href="global.html#exportCommunitiesToRDF">exportCommunitiesToRDF</a></li><li><a href="global.html#exportEnrichmentResults">exportEnrichmentResults</a></li><li><a href="global.html#exportGraph">exportGraph</a></li><li><a href="global.html#exportResultsToRDF">exportResultsToRDF</a></li><li><a href="global.html#exportToDataset">exportToDataset</a></li><li><a href="global.html#exportToRDF">exportToRDF</a></li><li><a href="global.html#exportVisualization">exportVisualization</a></li><li><a href="global.html#extractAndResearchConcepts">extractAndResearchConcepts</a></li><li><a href="global.html#extractBasicInfo">extractBasicInfo</a></li><li><a href="global.html#extractClientInfo">extractClientInfo</a></li><li><a href="global.html#extractClientIp">extractClientIp</a></li><li><a href="global.html#extractCommunityKeywords">extractCommunityKeywords</a></li><li><a href="global.html#extractConcepts">extractConcepts</a></li><li><a href="global.html#extractContent">extractContent</a></li><li><a href="global.html#extractContentString">extractContentString</a></li><li><a href="global.html#extractCorpuscleConcepts">extractCorpuscleConcepts</a></li><li><a href="global.html#extractEntitiesFromDataset">extractEntitiesFromDataset</a></li><li><a href="global.html#extractEntitiesFromHypothesis">extractEntitiesFromHypothesis</a></li><li><a href="global.html#extractEntitiesFromUnit">extractEntitiesFromUnit</a></li><li><a href="global.html#extractEntityData">extractEntityData</a></li><li><a href="global.html#extractKeywords">extractKeywords</a></li><li><a href="global.html#extractLimit">extractLimit</a></li><li><a href="global.html#extractMetadata">extractMetadata</a></li><li><a href="global.html#extractNamespace">extractNamespace</a></li><li><a href="global.html#extractNavigationMetadata">extractNavigationMetadata</a></li><li><a href="global.html#extractPerformanceMetadata">extractPerformanceMetadata</a></li><li><a href="global.html#extractProvenanceContext">extractProvenanceContext</a></li><li><a href="global.html#extractProvenanceMetadata">extractProvenanceMetadata</a></li><li><a href="global.html#extractQualityMetadata">extractQualityMetadata</a></li><li><a href="global.html#extractRelationshipContext">extractRelationshipContext</a></li><li><a href="global.html#extractScore">extractScore</a></li><li><a href="global.html#extractSourceContext">extractSourceContext</a></li><li><a href="global.html#extractSubgraph">extractSubgraph</a></li><li><a href="global.html#extractTechnicalMetadata">extractTechnicalMetadata</a></li><li><a href="global.html#extractTextContent">extractTextContent</a></li><li><a href="global.html#feedbackTemplates">feedbackTemplates</a></li><li><a href="global.html#fetchWithTimeout">fetchWithTimeout</a></li><li><a href="global.html#filterCorpuscles">filterCorpuscles</a></li><li><a href="global.html#filterSmallCommunities">filterSmallCommunities</a></li><li><a href="global.html#findBestMatchingUnits">findBestMatchingUnits</a></li><li><a href="global.html#findConnectedComponents">findConnectedComponents</a></li><li><a href="global.html#findCrossTypeNodes">findCrossTypeNodes</a></li><li><a href="global.html#findEntitiesByLabel">findEntitiesByLabel</a></li><li><a href="global.html#findEntitiesByWikipediaTitle">findEntitiesByWikipediaTitle</a></li><li><a href="global.html#findEntityCluster">findEntityCluster</a></li><li><a href="global.html#findLazyContent">findLazyContent</a></li><li><a href="global.html#findNextBoundary">findNextBoundary</a></li><li><a href="global.html#findSemanticBoundaries">findSemanticBoundaries</a></li><li><a href="global.html#findSimilarElements">findSimilarElements</a></li><li><a href="global.html#findSimilarNodes">findSimilarNodes</a></li><li><a href="global.html#findSingleBMU">findSingleBMU</a></li><li><a href="global.html#findUnitsWithoutCorpuscles">findUnitsWithoutCorpuscles</a></li><li><a href="global.html#fixedSizeChunking">fixedSizeChunking</a></li><li><a href="global.html#flushSyncQueue">flushSyncQueue</a></li><li><a href="global.html#format">format</a></li><li><a href="global.html#formatAsAnalytical">formatAsAnalytical</a></li><li><a href="global.html#formatAsConversational">formatAsConversational</a></li><li><a href="global.html#formatAsJSON">formatAsJSON</a></li><li><a href="global.html#formatAsMarkdown">formatAsMarkdown</a></li><li><a href="global.html#formatAsStructured">formatAsStructured</a></li><li><a href="global.html#formatContentAsMarkdown">formatContentAsMarkdown</a></li><li><a href="global.html#formatContentNaturally">formatContentNaturally</a></li><li><a href="global.html#formatErrorResponse">formatErrorResponse</a></li><li><a href="global.html#formatGroupSummary">formatGroupSummary</a></li><li><a href="global.html#formatHealthResponse">formatHealthResponse</a></li><li><a href="global.html#formatMetadataAsMarkdown">formatMetadataAsMarkdown</a></li><li><a href="global.html#formatMetricsResponse">formatMetricsResponse</a></li><li><a href="global.html#formatNavigationParameters">formatNavigationParameters</a></li><li><a href="global.html#formatNavigationResponse">formatNavigationResponse</a></li><li><a href="global.html#formatOptionsResponse">formatOptionsResponse</a></li><li><a href="global.html#formatPreviewResponse">formatPreviewResponse</a></li><li><a href="global.html#formatRDFObject">formatRDFObject</a></li><li><a href="global.html#formatSI">formatSI</a></li><li><a href="global.html#formatSchemaResponse">formatSchemaResponse</a></li><li><a href="global.html#formatSingleInteraction">formatSingleInteraction</a></li><li><a href="global.html#formatStructured">formatStructured</a></li><li><a href="global.html#formatSuccessResponse">formatSuccessResponse</a></li><li><a href="global.html#formatTimeAgo">formatTimeAgo</a></li><li><a href="global.html#fromSimpleObject">fromSimpleObject</a></li><li><a href="global.html#gatherCommunityContext">gatherCommunityContext</a></li><li><a href="global.html#gatherEntityContext">gatherEntityContext</a></li><li><a href="global.html#gaussianRandom">gaussianRandom</a></li><li><a href="global.html#generateCacheKey">generateCacheKey</a></li><li><a href="global.html#generateChat">generateChat</a></li><li><a href="global.html#generateChatResponse">generateChatResponse</a></li><li><a href="global.html#generateChatStream">generateChatStream</a></li><li><a href="global.html#generateClusters">generateClusters</a></li><li><a href="global.html#generateCommunitySummary">generateCommunitySummary</a></li><li><a href="global.html#generateCompletion">generateCompletion</a></li><li><a href="global.html#generateConceptURI">generateConceptURI</a></li><li><a href="global.html#generateCorpuscleId">generateCorpuscleId</a></li><li><a href="global.html#generateCorpuscleTriples">generateCorpuscleTriples</a></li><li><a href="global.html#generateEmbedding">generateEmbedding</a></li><li><a href="global.html#generateEntityAttribute">generateEntityAttribute</a></li><li><a href="global.html#generateErrorSuggestions">generateErrorSuggestions</a></li><li><a href="global.html#generateFuzzyPatterns">generateFuzzyPatterns</a></li><li><a href="global.html#generateHypotheses">generateHypotheses</a></li><li><a href="global.html#generateNodeAssignments">generateNodeAssignments</a></li><li><a href="global.html#generateNodeEmbedding">generateNodeEmbedding</a></li><li><a href="global.html#generatePrompt">generatePrompt</a></li><li><a href="global.html#generateQuestions">generateQuestions</a></li><li><a href="global.html#generateReport">generateReport</a></li><li><a href="global.html#generateResponse">generateResponse</a></li><li><a href="global.html#generateResultId">generateResultId</a></li><li><a href="global.html#generateSampleData">generateSampleData</a></li><li><a href="global.html#generateSampleEntities">generateSampleEntities</a></li><li><a href="global.html#generateSingleHypothesis">generateSingleHypothesis</a></li><li><a href="global.html#generateTriplesFromQuads">generateTriplesFromQuads</a></li><li><a href="global.html#generateURI">generateURI</a></li><li><a href="global.html#generateUnitTriples">generateUnitTriples</a></li><li><a href="global.html#get">get</a></li><li><a href="global.html#getAPIRouteHandlers">getAPIRouteHandlers</a></li><li><a href="global.html#getAggregationConfig">getAggregationConfig</a></li><li><a href="global.html#getAggregationFields">getAggregationFields</a></li><li><a href="global.html#getAggregationGroupBy">getAggregationGroupBy</a></li><li><a href="global.html#getAggregationMetrics">getAggregationMetrics</a></li><li><a href="global.html#getAll">getAll</a></li><li><a href="global.html#getAllCustomMetadata">getAllCustomMetadata</a></li><li><a href="global.html#getAllNamespaces">getAllNamespaces</a></li><li><a href="global.html#getAllStatistics">getAllStatistics</a></li><li><a href="global.html#getAllTrainingStatus">getAllTrainingStatus</a></li><li><a href="global.html#getAllTypes">getAllTypes</a></li><li><a href="global.html#getAlternativeNames">getAlternativeNames</a></li><li><a href="global.html#getAttributes">getAttributes</a></li><li><a href="global.html#getAvailableFormats">getAvailableFormats</a></li><li><a href="global.html#getAvailableInstructions">getAvailableInstructions</a></li><li><a href="global.html#getAvailableModels">getAvailableModels</a></li><li><a href="global.html#getAvailableServices">getAvailableServices</a></li><li><a href="global.html#getAvailableStrategies">getAvailableStrategies</a></li><li><a href="global.html#getAvailableTemplates">getAvailableTemplates</a></li><li><a href="global.html#getAvailableTokenizers">getAvailableTokenizers</a></li><li><a href="global.html#getBaseFields">getBaseFields</a></li><li><a href="global.html#getCacheKey">getCacheKey</a></li><li><a href="global.html#getCacheStats">getCacheStats</a></li><li><a href="global.html#getCachedResult">getCachedResult</a></li><li><a href="global.html#getCategory">getCategory</a></li><li><a href="global.html#getClusters">getClusters</a></li><li><a href="global.html#getCommunities">getCommunities</a></li><li><a href="global.html#getConfidence">getConfidence</a></li><li><a href="global.html#getConnectedElements">getConnectedElements</a></li><li><a href="global.html#getConnectedUnits">getConnectedUnits</a></li><li><a href="global.html#getContent">getContent</a></li><li><a href="global.html#getContextRecommendation">getContextRecommendation</a></li><li><a href="global.html#getContextTruncationLimit">getContextTruncationLimit</a></li><li><a href="global.html#getCorpus">getCorpus</a></li><li><a href="global.html#getCorpuscleType">getCorpuscleType</a></li><li><a href="global.html#getDefaultConfig">getDefaultConfig</a></li><li><a href="global.html#getDefaultFieldMappings">getDefaultFieldMappings</a></li><li><a href="global.html#getDefaultTiltURI">getDefaultTiltURI</a></li><li><a href="global.html#getDefaultWeights">getDefaultWeights</a></li><li><a href="global.html#getDefaultZoomURI">getDefaultZoomURI</a></li><li><a href="global.html#getDefaults">getDefaults</a></li><li><a href="global.html#getDocument">getDocument</a></li><li><a href="global.html#getEmbedding">getEmbedding</a></li><li><a href="global.html#getEndpointInfo">getEndpointInfo</a></li><li><a href="global.html#getEndpoints">getEndpoints</a></li><li><a href="global.html#getEnhancedEntityContext">getEnhancedEntityContext</a></li><li><a href="global.html#getEntities">getEntities</a></li><li><a href="global.html#getEntity">getEntity</a></li><li><a href="global.html#getEntityProperties">getEntityProperties</a></li><li><a href="global.html#getEntityRelationships">getEntityRelationships</a></li><li><a href="global.html#getErrorStats">getErrorStats</a></li><li><a href="global.html#getEvidence">getEvidence</a></li><li><a href="global.html#getExecutionStats">getExecutionStats</a></li><li><a href="global.html#getFeatureMaps">getFeatureMaps</a></li><li><a href="global.html#getFilterDocumentation">getFilterDocumentation</a></li><li><a href="global.html#getFirstSeen">getFirstSeen</a></li><li><a href="global.html#getFormatInfo">getFormatInfo</a></li><li><a href="global.html#getFrequency">getFrequency</a></li><li><a href="global.html#getGraphStatistics">getGraphStatistics</a></li><li><a href="global.html#getGraphStats">getGraphStats</a></li><li><a href="global.html#getGridState">getGridState</a></li><li><a href="global.html#getHealth">getHealth</a></li><li><a href="global.html#getHexagonalVisualCoords">getHexagonalVisualCoords</a></li><li><a href="global.html#getInfo">getInfo</a></li><li><a href="global.html#getInstanceHierarchy">getInstanceHierarchy</a></li><li><a href="global.html#getInstructionInfo">getInstructionInfo</a></li><li><a href="global.html#getJSONLDContext">getJSONLDContext</a></li><li><a href="global.html#getKeywords">getKeywords</a></li><li><a href="global.html#getLanguage">getLanguage</a></li><li><a href="global.html#getLastAccessed">getLastAccessed</a></li><li><a href="global.html#getLegacyAdapter">getLegacyAdapter</a></li><li><a href="global.html#getLength">getLength</a></li><li><a href="global.html#getMentionedEntities">getMentionedEntities</a></li><li><a href="global.html#getMetadata">getMetadata</a></li><li><a href="global.html#getMetadataProperty">getMetadataProperty</a></li><li><a href="global.html#getMetrics">getMetrics</a></li><li><a href="global.html#getModelConfig">getModelConfig</a></li><li><a href="global.html#getModelInfo">getModelInfo</a></li><li><a href="global.html#getName">getName</a></li><li><a href="global.html#getNamespace">getNamespace</a></li><li><a href="global.html#getNavigationStatistics">getNavigationStatistics</a></li><li><a href="global.html#getNeighbors">getNeighbors</a></li><li><a href="global.html#getNodeMappings">getNodeMappings</a></li><li><a href="global.html#getNodeMetadata">getNodeMetadata</a></li><li><a href="global.html#getNodeType">getNodeType</a></li><li><a href="global.html#getNodeWeights">getNodeWeights</a></li><li><a href="global.html#getNodesByType">getNodesByType</a></li><li><a href="global.html#getOntologyInfo">getOntologyInfo</a></li><li><a href="global.html#getOntologyTerms">getOntologyTerms</a></li><li><a href="global.html#getOptimalResultLimit">getOptimalResultLimit</a></li><li><a href="global.html#getOptions">getOptions</a></li><li><a href="global.html#getOtherEntity">getOtherEntity</a></li><li><a href="global.html#getPPRScore">getPPRScore</a></li><li><a href="global.html#getParameterSummary">getParameterSummary</a></li><li><a href="global.html#getParserInfo">getParserInfo</a></li><li><a href="global.html#getPerformanceStats">getPerformanceStats</a></li><li><a href="global.html#getPosition">getPosition</a></li><li><a href="global.html#getPrefLabel">getPrefLabel</a></li><li><a href="global.html#getPreferredLabel">getPreferredLabel</a></li><li><a href="global.html#getPrefixes">getPrefixes</a></li><li><a href="global.html#getPrefixesAsObject">getPrefixesAsObject</a></li><li><a href="global.html#getPrimaryTypes">getPrimaryTypes</a></li><li><a href="global.html#getProcessingStatus">getProcessingStatus</a></li><li><a href="global.html#getProjectionDocumentation">getProjectionDocumentation</a></li><li><a href="global.html#getPromptManager">getPromptManager</a></li><li><a href="global.html#getProvenance">getProvenance</a></li><li><a href="global.html#getQuery">getQuery</a></li><li><a href="global.html#getQueryStats">getQueryStats</a></li><li><a href="global.html#getQuestionStatistics">getQuestionStatistics</a></li><li><a href="global.html#getQuestionsForResearch">getQuestionsForResearch</a></li><li><a href="global.html#getRagnoLocalName">getRagnoLocalName</a></li><li><a href="global.html#getRecommendations">getRecommendations</a></li><li><a href="global.html#getRecommendedTilt">getRecommendedTilt</a></li><li><a href="global.html#getRelationshipType">getRelationshipType</a></li><li><a href="global.html#getRelationships">getRelationships</a></li><li><a href="global.html#getRouteHandlers">getRouteHandlers</a></li><li><a href="global.html#getRuleSelectivity">getRuleSelectivity</a></li><li><a href="global.html#getSPARQLPrefixes">getSPARQLPrefixes</a></li><li><a href="global.html#getSchema">getSchema</a></li><li><a href="global.html#getSearchStrategies">getSearchStrategies</a></li><li><a href="global.html#getSelectionStrategy">getSelectionStrategy</a></li><li><a href="global.html#getSession">getSession</a></li><li><a href="global.html#getSessions">getSessions</a></li><li><a href="global.html#getSimilarityScore">getSimilarityScore</a></li><li><a href="global.html#getSourceDocument">getSourceDocument</a></li><li><a href="global.html#getSourceEntity">getSourceEntity</a></li><li><a href="global.html#getStatistics">getStatistics</a></li><li><a href="global.html#getStats">getStats</a></li><li><a href="global.html#getStatus">getStatus</a></li><li><a href="global.html#getStrategyInfo">getStrategyInfo</a></li><li><a href="global.html#getSubType">getSubType</a></li><li><a href="global.html#getSummary">getSummary</a></li><li><a href="global.html#getSupportedExtensions">getSupportedExtensions</a></li><li><a href="global.html#getSupportedProviders">getSupportedProviders</a></li><li><a href="global.html#getTargetEntity">getTargetEntity</a></li><li><a href="global.html#getTargetTypes">getTargetTypes</a></li><li><a href="global.html#getTemplate">getTemplate</a></li><li><a href="global.html#getTemplateMetadata">getTemplateMetadata</a></li><li><a href="global.html#getTemporal">getTemporal</a></li><li><a href="global.html#getText">getText</a></li><li><a href="global.html#getTiltFields">getTiltFields</a></li><li><a href="global.html#getTiltOutputFormat">getTiltOutputFormat</a></li><li><a href="global.html#getTiltProcessingType">getTiltProcessingType</a></li><li><a href="global.html#getTokenizerInfo">getTokenizerInfo</a></li><li><a href="global.html#getTopKNodes">getTopKNodes</a></li><li><a href="global.html#getTopology">getTopology</a></li><li><a href="global.html#getTopologyInfo">getTopologyInfo</a></li><li><a href="global.html#getTrainingStatus">getTrainingStatus</a></li><li><a href="global.html#getTriples">getTriples</a></li><li><a href="global.html#getTriplesWithPredicate">getTriplesWithPredicate</a></li><li><a href="global.html#getTurtlePrefixes">getTurtlePrefixes</a></li><li><a href="global.html#getTypes">getTypes</a></li><li><a href="global.html#getURI">getURI</a></li><li><a href="global.html#getUnits">getUnits</a></li><li><a href="global.html#getView">getView</a></li><li><a href="global.html#getViews">getViews</a></li><li><a href="global.html#getVisualizationCoordinates">getVisualizationCoordinates</a></li><li><a href="global.html#getWeight">getWeight</a></li><li><a href="global.html#getWikidataNamespaces">getWikidataNamespaces</a></li><li><a href="global.html#getWikidataProperties">getWikidataProperties</a></li><li><a href="global.html#getZoomDescriptions">getZoomDescriptions</a></li><li><a href="global.html#getZoomGranularity">getZoomGranularity</a></li><li><a href="global.html#getZoomLevelDocumentation">getZoomLevelDocumentation</a></li><li><a href="global.html#getZoomMapping">getZoomMapping</a></li><li><a href="global.html#groupNodesByType">groupNodesByType</a></li><li><a href="global.html#handleDomainSwitch">handleDomainSwitch</a></li><li><a href="global.html#handleDualSearch">handleDualSearch</a></li><li><a href="global.html#handleEntityDetails">handleEntityDetails</a></li><li><a href="global.html#handleError">handleError</a></li><li><a href="global.html#handleExactSearch">handleExactSearch</a></li><li><a href="global.html#handleFadeMemory">handleFadeMemory</a></li><li><a href="global.html#handleForget">handleForget</a></li><li><a href="global.html#handleGraphStats">handleGraphStats</a></li><li><a href="global.html#handleHealth">handleHealth</a></li><li><a href="global.html#handleMemoryFilter">handleMemoryFilter</a></li><li><a href="global.html#handleMetrics">handleMetrics</a></li><li><a href="global.html#handleNavigate">handleNavigate</a></li><li><a href="global.html#handleOptions">handleOptions</a></li><li><a href="global.html#handlePreview">handlePreview</a></li><li><a href="global.html#handleProjectContext">handleProjectContext</a></li><li><a href="global.html#handleRecall">handleRecall</a></li><li><a href="global.html#handleRemember">handleRemember</a></li><li><a href="global.html#handleRequest">handleRequest</a></li><li><a href="global.html#handleSchema">handleSchema</a></li><li><a href="global.html#handleSearchStats">handleSearchStats</a></li><li><a href="global.html#handleSearchStatus">handleSearchStatus</a></li><li><a href="global.html#handleSimilaritySearch">handleSimilaritySearch</a></li><li><a href="global.html#handleTraversalSearch">handleTraversalSearch</a></li><li><a href="global.html#hasFilters">hasFilters</a></li><li><a href="global.html#hasNode">hasNode</a></li><li><a href="global.html#hasRelationshipWith">hasRelationshipWith</a></li><li><a href="global.html#hasStructure">hasStructure</a></li><li><a href="global.html#hasType">hasType</a></li><li><a href="global.html#hashObject">hashObject</a></li><li><a href="global.html#healthCheck">healthCheck</a></li><li><a href="global.html#hierarchicalChunking">hierarchicalChunking</a></li><li><a href="global.html#highlightQuery">highlightQuery</a></li><li><a href="global.html#identifyImportantEntities">identifyImportantEntities</a></li><li><a href="global.html#identifyRetrievableNodes">identifyRetrievableNodes</a></li><li><a href="global.html#incrementFrequency">incrementFrequency</a></li><li><a href="global.html#indexContent">indexContent</a></li><li><a href="global.html#indexToCoordinates">indexToCoordinates</a></li><li><a href="global.html#ingest">ingest</a></li><li><a href="global.html#ingestDocument">ingestDocument</a></li><li><a href="global.html#ingestFromTemplate">ingestFromTemplate</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#initChatForms">initChatForms</a></li><li><a href="global.html#initMCPClient">initMCPClient</a></li><li><a href="global.html#initRangeInputs">initRangeInputs</a></li><li><a href="global.html#initSettingsForm">initSettingsForm</a></li><li><a href="global.html#initTabs">initTabs</a></li><li><a href="global.html#initialize">initialize</a></li><li><a href="global.html#initializeApp">initializeApp</a></li><li><a href="global.html#initializeAtuin">initializeAtuin</a></li><li><a href="global.html#initializeBoundaryDetectors">initializeBoundaryDetectors</a></li><li><a href="global.html#initializeChunkingStrategies">initializeChunkingStrategies</a></li><li><a href="global.html#initializeCompressionLevels">initializeCompressionLevels</a></li><li><a href="global.html#initializeConfig">initializeConfig</a></li><li><a href="global.html#initializeDefaultRules">initializeDefaultRules</a></li><li><a href="global.html#initializeDefaults">initializeDefaults</a></li><li><a href="global.html#initializeDocumentProcessing">initializeDocumentProcessing</a></li><li><a href="global.html#initializeDomainPatterns">initializeDomainPatterns</a></li><li><a href="global.html#initializeEmbeddingHandler">initializeEmbeddingHandler</a></li><li><a href="global.html#initializeEncodingStrategies">initializeEncodingStrategies</a></li><li><a href="global.html#initializeEndpoints">initializeEndpoints</a></li><li><a href="global.html#initializeErrorCodes">initializeErrorCodes</a></li><li><a href="global.html#initializeErrorTypes">initializeErrorTypes</a></li><li><a href="global.html#initializeFallbackConceptTemplates">initializeFallbackConceptTemplates</a></li><li><a href="global.html#initializeFilterStrategies">initializeFilterStrategies</a></li><li><a href="global.html#initializeFormats">initializeFormats</a></li><li><a href="global.html#initializeFormatters">initializeFormatters</a></li><li><a href="global.html#initializeInstructions">initializeInstructions</a></li><li><a href="global.html#initializeLLMHandler">initializeLLMHandler</a></li><li><a href="global.html#initializeLegacyAdapters">initializeLegacyAdapters</a></li><li><a href="global.html#initializeLinearWeights">initializeLinearWeights</a></li><li><a href="global.html#initializeMemoryDomains">initializeMemoryDomains</a></li><li><a href="global.html#initializeMetadataSchemas">initializeMetadataSchemas</a></li><li><a href="global.html#initializeModelMappings">initializeModelMappings</a></li><li><a href="global.html#initializeNamespaces">initializeNamespaces</a></li><li><a href="global.html#initializeOutputFormats">initializeOutputFormats</a></li><li><a href="global.html#initializePCAWeights">initializePCAWeights</a></li><li><a href="global.html#initializePipeline">initializePipeline</a></li><li><a href="global.html#initializeProjectionStrategies">initializeProjectionStrategies</a></li><li><a href="global.html#initializePromptSystem">initializePromptSystem</a></li><li><a href="global.html#initializeQueryTemplates">initializeQueryTemplates</a></li><li><a href="global.html#initializeRandomWeights">initializeRandomWeights</a></li><li><a href="global.html#initializeRecoveryStrategies">initializeRecoveryStrategies</a></li><li><a href="global.html#initializeSPARQLServices">initializeSPARQLServices</a></li><li><a href="global.html#initializeSchemas">initializeSchemas</a></li><li><a href="global.html#initializeSelectionStrategies">initializeSelectionStrategies</a></li><li><a href="global.html#initializeTemplates">initializeTemplates</a></li><li><a href="global.html#initializeTokenizers">initializeTokenizers</a></li><li><a href="global.html#initializeValidators">initializeValidators</a></li><li><a href="global.html#initializeWeights">initializeWeights</a></li><li><a href="global.html#initializeZoomMappings">initializeZoomMappings</a></li><li><a href="global.html#integrateWithGraphAnalytics">integrateWithGraphAnalytics</a></li><li><a href="global.html#integrateWithHyde">integrateWithHyde</a></li><li><a href="global.html#involves">involves</a></li><li><a href="global.html#isAvailable">isAvailable</a></li><li><a href="global.html#isCode">isCode</a></li><li><a href="global.html#isEntryPoint">isEntryPoint</a></li><li><a href="global.html#isProviderSupported">isProviderSupported</a></li><li><a href="global.html#isRagnoClass">isRagnoClass</a></li><li><a href="global.html#isRagnoProperty">isRagnoProperty</a></li><li><a href="global.html#isRagnoURI">isRagnoURI</a></li><li><a href="global.html#isRelevantAt">isRelevantAt</a></li><li><a href="global.html#isStopWord">isStopWord</a></li><li><a href="global.html#isSupported">isSupported</a></li><li><a href="global.html#isTboxFusekiAvailable">isTboxFusekiAvailable</a></li><li><a href="global.html#isValidCoordinate">isValidCoordinate</a></li><li><a href="global.html#legacyFormatChatPrompt">legacyFormatChatPrompt</a></li><li><a href="global.html#limitResults">limitResults</a></li><li><a href="global.html#listDocuments">listDocuments</a></li><li><a href="global.html#listExternalTemplateFiles">listExternalTemplateFiles</a></li><li><a href="global.html#listInstances">listInstances</a></li><li><a href="global.html#listTemplates">listTemplates</a></li><li><a href="global.html#loadChatProviders">loadChatProviders</a></li><li><a href="global.html#loadConceptQueries">loadConceptQueries</a></li><li><a href="global.html#loadConfigFromServer">loadConfigFromServer</a></li><li><a href="global.html#loadData">loadData</a></li><li><a href="global.html#loadDocQAData">loadDocQAData</a></li><li><a href="global.html#loadEnvironmentVariables">loadEnvironmentVariables</a></li><li><a href="global.html#loadExternalTemplate">loadExternalTemplate</a></li><li><a href="global.html#loadExternalTemplates">loadExternalTemplates</a></li><li><a href="global.html#loadFromEntities">loadFromEntities</a></li><li><a href="global.html#loadFromRagno">loadFromRagno</a></li><li><a href="global.html#loadFromSPARQL">loadFromSPARQL</a></li><li><a href="global.html#loadFromVectorIndex">loadFromVectorIndex</a></li><li><a href="global.html#loadIndex">loadIndex</a></li><li><a href="global.html#loadMemoryState">loadMemoryState</a></li><li><a href="global.html#loadSettings">loadSettings</a></li><li><a href="global.html#loadTemplate">loadTemplate</a></li><li><a href="global.html#loadTemplatesFromPromptTemplates">loadTemplatesFromPromptTemplates</a></li><li><a href="global.html#loadUnitsToSPARQL">loadUnitsToSPARQL</a></li><li><a href="global.html#loadVectorIndex">loadVectorIndex</a></li><li><a href="global.html#localMovingPhase">localMovingPhase</a></li><li><a href="global.html#logProcessingSummary">logProcessingSummary</a></li><li><a href="global.html#logTrainingProgress">logTrainingProgress</a></li><li><a href="global.html#lookupEntity">lookupEntity</a></li><li><a href="global.html#manhattanDistance">manhattanDistance</a></li><li><a href="global.html#markQuestionResearched">markQuestionResearched</a></li><li><a href="global.html#matchEndpoint">matchEndpoint</a></li><li><a href="global.html#matchesFilters">matchesFilters</a></li><li><a href="global.html#memorize">memorize</a></li><li><a href="global.html#mergeSmallChunks">mergeSmallChunks</a></li><li><a href="global.html#migrate">migrate</a></li><li><a href="global.html#migrateDocument">migrateDocument</a></li><li><a href="global.html#migrateDocuments">migrateDocuments</a></li><li><a href="global.html#migrateExistingSystem">migrateExistingSystem</a></li><li><a href="global.html#migrateMCPRegistry">migrateMCPRegistry</a></li><li><a href="global.html#migrateNavigation">migrateNavigation</a></li><li><a href="global.html#migratePromptTemplates">migratePromptTemplates</a></li><li><a href="global.html#navigate">navigate</a></li><li><a href="global.html#normalize">normalize</a></li><li><a href="global.html#normalizeContent">normalizeContent</a></li><li><a href="global.html#normalizeCoordinates">normalizeCoordinates</a></li><li><a href="global.html#normalizeEntityFilter">normalizeEntityFilter</a></li><li><a href="global.html#normalizeError">normalizeError</a></li><li><a href="global.html#normalizeGeographicFilter">normalizeGeographicFilter</a></li><li><a href="global.html#normalizeMinMax">normalizeMinMax</a></li><li><a href="global.html#normalizePan">normalizePan</a></li><li><a href="global.html#normalizePath">normalizePath</a></li><li><a href="global.html#normalizeScoreArray">normalizeScoreArray</a></li><li><a href="global.html#normalizeScores">normalizeScores</a></li><li><a href="global.html#normalizeSigmoid">normalizeSigmoid</a></li><li><a href="global.html#normalizeTemplate">normalizeTemplate</a></li><li><a href="global.html#normalizeTemporalFilter">normalizeTemporalFilter</a></li><li><a href="global.html#normalizeTilt">normalizeTilt</a></li><li><a href="global.html#normalizeTopicFilter">normalizeTopicFilter</a></li><li><a href="global.html#normalizeTransform">normalizeTransform</a></li><li><a href="global.html#normalizeZScore">normalizeZScore</a></li><li><a href="global.html#normalizeZoom">normalizeZoom</a></li><li><a href="global.html#offsetToCube">offsetToCube</a></li><li><a href="global.html#optimizeCriteria">optimizeCriteria</a></li><li><a href="global.html#optimizeIndex">optimizeIndex</a></li><li><a href="global.html#optimizeTokenUsage">optimizeTokenUsage</a></li><li><a href="global.html#optimizeVectorIndex">optimizeVectorIndex</a></li><li><a href="global.html#parse">parse</a></li><li><a href="global.html#parseBody">parseBody</a></li><li><a href="global.html#parseComponents">parseComponents</a></li><li><a href="global.html#parseCookies">parseCookies</a></li><li><a href="global.html#parseEntityExtractionResponse">parseEntityExtractionResponse</a></li><li><a href="global.html#parseFormBody">parseFormBody</a></li><li><a href="global.html#parseHeaders">parseHeaders</a></li><li><a href="global.html#parseJsonBody">parseJsonBody</a></li><li><a href="global.html#parseJsonResponse">parseJsonResponse</a></li><li><a href="global.html#parseMultipartBody">parseMultipartBody</a></li><li><a href="global.html#parseMultipartPart">parseMultipartPart</a></li><li><a href="global.html#parseQueryParams">parseQueryParams</a></li><li><a href="global.html#parseQueryResults">parseQueryResults</a></li><li><a href="global.html#performClustering">performClustering</a></li><li><a href="global.html#performExactMatch">performExactMatch</a></li><li><a href="global.html#performHealthCheck">performHealthCheck</a></li><li><a href="global.html#performPPRTraversal">performPPRTraversal</a></li><li><a href="global.html#performQuickRecall">performQuickRecall</a></li><li><a href="global.html#performVectorSimilarity">performVectorSimilarity</a></li><li><a href="global.html#populateSettingsFromConfig">populateSettingsFromConfig</a></li><li><a href="global.html#populateVectorIndexFromSPARQL">populateVectorIndexFromSPARQL</a></li><li><a href="global.html#postProcessChunks">postProcessChunks</a></li><li><a href="global.html#postProcessCorpuscles">postProcessCorpuscles</a></li><li><a href="global.html#preciseTokenCount">preciseTokenCount</a></li><li><a href="global.html#preloadTemplates">preloadTemplates</a></li><li><a href="global.html#preview">preview</a></li><li><a href="global.html#process">process</a></li><li><a href="global.html#processBatch">processBatch</a></li><li><a href="global.html#processConcepts">processConcepts</a></li><li><a href="global.html#processEntityData">processEntityData</a></li><li><a href="global.html#processIterations">processIterations</a></li><li><a href="global.html#processQuery">processQuery</a></li><li><a href="global.html#processRelationships">processRelationships</a></li><li><a href="global.html#processResults">processResults</a></li><li><a href="global.html#processSPARQLResults">processSPARQLResults</a></li><li><a href="global.html#processSparqlData">processSparqlData</a></li><li><a href="global.html#processUnitsInBatches">processUnitsInBatches</a></li><li><a href="global.html#project">project</a></li><li><a href="global.html#projectToConcepts">projectToConcepts</a></li><li><a href="global.html#projectToEmbedding">projectToEmbedding</a></li><li><a href="global.html#projectToGraph">projectToGraph</a></li><li><a href="global.html#projectToKeywords">projectToKeywords</a></li><li><a href="global.html#projectToTemporal">projectToTemporal</a></li><li><a href="global.html#pruneContext">pruneContext</a></li><li><a href="global.html#query">query</a></li><li><a href="global.html#queryByZoomLevel">queryByZoomLevel</a></li><li><a href="global.html#queryConceptsByFilter">queryConceptsByFilter</a></li><li><a href="global.html#queryCorpuscles">queryCorpuscles</a></li><li><a href="global.html#queryDocumentChunks">queryDocumentChunks</a></li><li><a href="global.html#queryDocuments">queryDocuments</a></li><li><a href="global.html#queryHypotheses">queryHypotheses</a></li><li><a href="global.html#queryHypotheticalContent">queryHypotheticalContent</a></li><li><a href="global.html#queryUnits">queryUnits</a></li><li><a href="global.html#queueSync">queueSync</a></li><li><a href="global.html#quickStart">quickStart</a></li><li><a href="global.html#rankByScore">rankByScore</a></li><li><a href="global.html#rankBySimilarity">rankBySimilarity</a></li><li><a href="global.html#rankByType">rankByType</a></li><li><a href="global.html#rankByWeightedScore">rankByWeightedScore</a></li><li><a href="global.html#rankHybrid">rankHybrid</a></li><li><a href="global.html#readRawBody">readRawBody</a></li><li><a href="global.html#recordIteration">recordIteration</a></li><li><a href="global.html#recoverFromValidationError">recoverFromValidationError</a></li><li><a href="global.html#recursive">recursive</a></li><li><a href="global.html#refinementPhase">refinementPhase</a></li><li><a href="global.html#register">register</a></li><li><a href="global.html#registerBatch">registerBatch</a></li><li><a href="global.html#registerTemplate">registerTemplate</a></li><li><a href="global.html#reloadExternalTemplates">reloadExternalTemplates</a></li><li><a href="global.html#removeNamespace">removeNamespace</a></li><li><a href="global.html#removeNode">removeNode</a></li><li><a href="global.html#removeNodeFromIndex">removeNodeFromIndex</a></li><li><a href="global.html#removeTriple">removeTriple</a></li><li><a href="global.html#researchConcepts">researchConcepts</a></li><li><a href="global.html#reset">reset</a></li><li><a href="global.html#resetStatistics">resetStatistics</a></li><li><a href="global.html#resetStats">resetStats</a></li><li><a href="global.html#resolve">resolve</a></li><li><a href="global.html#resolveEntityNamesToURIs">resolveEntityNamesToURIs</a></li><li><a href="global.html#resolveSyntax">resolveSyntax</a></li><li><a href="global.html#restoreFromBackup">restoreFromBackup</a></li><li><a href="global.html#retrieveInteractions">retrieveInteractions</a></li><li><a href="global.html#runDeepPPR">runDeepPPR</a></li><li><a href="global.html#runEntityClustering">runEntityClustering</a></li><li><a href="global.html#runFullAnalysis">runFullAnalysis</a></li><li><a href="global.html#runFullMigration">runFullMigration</a></li><li><a href="global.html#runFullPipeline">runFullPipeline</a></li><li><a href="global.html#runHydeGeneration">runHydeGeneration</a></li><li><a href="global.html#runPPR">runPPR</a></li><li><a href="global.html#runSemanticSearch">runSemanticSearch</a></li><li><a href="global.html#runShallowPPR">runShallowPPR</a></li><li><a href="global.html#runTargetedAnalysis">runTargetedAnalysis</a></li><li><a href="global.html#runVSOMAnalysis">runVSOMAnalysis</a></li><li><a href="global.html#sanitizeData">sanitizeData</a></li><li><a href="global.html#sanitizeErrorMessage">sanitizeErrorMessage</a></li><li><a href="global.html#saveIndex">saveIndex</a></li><li><a href="global.html#saveVectorIndex">saveVectorIndex</a></li><li><a href="global.html#scoreByGraph">scoreByGraph</a></li><li><a href="global.html#scoreByKeywords">scoreByKeywords</a></li><li><a href="global.html#search">search</a></li><li><a href="global.html#searchByConcepts">searchByConcepts</a></li><li><a href="global.html#searchByText">searchByText</a></li><li><a href="global.html#searchByTypes">searchByTypes</a></li><li><a href="global.html#searchByWikipediaTitle">searchByWikipediaTitle</a></li><li><a href="global.html#searchContent">searchContent</a></li><li><a href="global.html#searchExact">searchExact</a></li><li><a href="global.html#searchGraph">searchGraph</a></li><li><a href="global.html#searchSimilarity">searchSimilarity</a></li><li><a href="global.html#searchTraversal">searchTraversal</a></li><li><a href="global.html#searchWikipedia">searchWikipedia</a></li><li><a href="global.html#seededRandom">seededRandom</a></li><li><a href="global.html#select">select</a></li><li><a href="global.html#selectByEmbedding">selectByEmbedding</a></li><li><a href="global.html#selectByGraph">selectByGraph</a></li><li><a href="global.html#selectByKeywords">selectByKeywords</a></li><li><a href="global.html#selectByTemporal">selectByTemporal</a></li><li><a href="global.html#selectEnhanced">selectEnhanced</a></li><li><a href="global.html#selectOptimalStrategy">selectOptimalStrategy</a></li><li><a href="global.html#semanticChunking">semanticChunking</a></li><li><a href="global.html#sendError">sendError</a></li><li><a href="global.html#sendSuccess">sendSuccess</a></li><li><a href="global.html#setAllMetadata">setAllMetadata</a></li><li><a href="global.html#setCategory">setCategory</a></li><li><a href="global.html#setConfidence">setConfidence</a></li><li><a href="global.html#setContent">setContent</a></li><li><a href="global.html#setCorpus">setCorpus</a></li><li><a href="global.html#setEmbedding">setEmbedding</a></li><li><a href="global.html#setEmbeddingHandler">setEmbeddingHandler</a></li><li><a href="global.html#setEntity">setEntity</a></li><li><a href="global.html#setEntryPoint">setEntryPoint</a></li><li><a href="global.html#setFirstSeen">setFirstSeen</a></li><li><a href="global.html#setFrequency">setFrequency</a></li><li><a href="global.html#setLLMHandler">setLLMHandler</a></li><li><a href="global.html#setLanguage">setLanguage</a></li><li><a href="global.html#setLastAccessed">setLastAccessed</a></li><li><a href="global.html#setLength">setLength</a></li><li><a href="global.html#setMetadataProperty">setMetadataProperty</a></li><li><a href="global.html#setName">setName</a></li><li><a href="global.html#setNodeWeights">setNodeWeights</a></li><li><a href="global.html#setPPRScore">setPPRScore</a></li><li><a href="global.html#setPosition">setPosition</a></li><li><a href="global.html#setPrefLabel">setPrefLabel</a></li><li><a href="global.html#setProvenance">setProvenance</a></li><li><a href="global.html#setRelationshipType">setRelationshipType</a></li><li><a href="global.html#setSPARQLEndpoint">setSPARQLEndpoint</a></li><li><a href="global.html#setSimilarityScore">setSimilarityScore</a></li><li><a href="global.html#setSourceDocument">setSourceDocument</a></li><li><a href="global.html#setSourceEntity">setSourceEntity</a></li><li><a href="global.html#setSubType">setSubType</a></li><li><a href="global.html#setSummary">setSummary</a></li><li><a href="global.html#setTargetEntity">setTargetEntity</a></li><li><a href="global.html#setTemperature">setTemperature</a></li><li><a href="global.html#setTemporal">setTemporal</a></li><li><a href="global.html#setText">setText</a></li><li><a href="global.html#setVectorIndex">setVectorIndex</a></li><li><a href="global.html#setWeight">setWeight</a></li><li><a href="global.html#setupDebug">setupDebug</a></li><li><a href="global.html#setupErrorHandling">setupErrorHandling</a></li><li><a href="global.html#setupEventListeners">setupEventListeners</a></li><li><a href="global.html#setupFailsafeTimeout">setupFailsafeTimeout</a></li><li><a href="global.html#setupQuickActions">setupQuickActions</a></li><li><a href="global.html#showLoading">showLoading</a></li><li><a href="global.html#shuffleArray">shuffleArray</a></li><li><a href="global.html#shutdown">shutdown</a></li><li><a href="global.html#shutdownAll">shutdownAll</a></li><li><a href="global.html#simpleHash">simpleHash</a></li><li><a href="global.html#splitLargeSection">splitLargeSection</a></li><li><a href="global.html#stopAllTraining">stopAllTraining</a></li><li><a href="global.html#stopTraining">stopTraining</a></li><li><a href="global.html#store">store</a></li><li><a href="global.html#storeCommunity">storeCommunity</a></li><li><a href="global.html#storeConceptRelationships">storeConceptRelationships</a></li><li><a href="global.html#storeConcepts">storeConcepts</a></li><li><a href="global.html#storeDocument">storeDocument</a></li><li><a href="global.html#storeEmbeddingInRDF">storeEmbeddingInRDF</a></li><li><a href="global.html#storeEntity">storeEntity</a></li><li><a href="global.html#storeInteraction">storeInteraction</a></li><li><a href="global.html#storeLazyContent">storeLazyContent</a></li><li><a href="global.html#storeNavigationData">storeNavigationData</a></li><li><a href="global.html#storeRelationship">storeRelationship</a></li><li><a href="global.html#storeSemanticUnit">storeSemanticUnit</a></li><li><a href="global.html#storeSession">storeSession</a></li><li><a href="global.html#storeZPTDataInSPARQL">storeZPTDataInSPARQL</a></li><li><a href="global.html#streamChatResponse">streamChatResponse</a></li><li><a href="global.html#summarizeContext">summarizeContext</a></li><li><a href="global.html#summarizeFilters">summarizeFilters</a></li><li><a href="global.html#supportsTilt">supportsTilt</a></li><li><a href="global.html#switchToProject">switchToProject</a></li><li><a href="global.html#timeOperation">timeOperation</a></li><li><a href="global.html#toNTriples">toNTriples</a></li><li><a href="global.html#toSimpleObject">toSimpleObject</a></li><li><a href="global.html#toTurtle">toTurtle</a></li><li><a href="global.html#tokenAwareChunking">tokenAwareChunking</a></li><li><a href="global.html#toroidalDistance">toroidalDistance</a></li><li><a href="global.html#touch">touch</a></li><li><a href="global.html#trackActiveRequest">trackActiveRequest</a></li><li><a href="global.html#train">train</a></li><li><a href="global.html#trainSOM">trainSOM</a></li><li><a href="global.html#trainingStep">trainingStep</a></li><li><a href="global.html#transform">transform</a></li><li><a href="global.html#transformDocQAToVSOM">transformDocQAToVSOM</a></li><li><a href="global.html#transformToCorpuscles">transformToCorpuscles</a></li><li><a href="global.html#transformToDocument">transformToDocument</a></li><li><a href="global.html#transformToUnits">transformToUnits</a></li><li><a href="global.html#traverseGraph">traverseGraph</a></li><li><a href="global.html#unifiedSearch">unifiedSearch</a></li><li><a href="global.html#unregister">unregister</a></li><li><a href="global.html#updateConfig">updateConfig</a></li><li><a href="global.html#updateDomainDisplay">updateDomainDisplay</a></li><li><a href="global.html#updateGraph">updateGraph</a></li><li><a href="global.html#updateLazyToProcessed">updateLazyToProcessed</a></li><li><a href="global.html#updateMemoryDisplay">updateMemoryDisplay</a></li><li><a href="global.html#updateMemoryStats">updateMemoryStats</a></li><li><a href="global.html#updateMetrics">updateMetrics</a></li><li><a href="global.html#updateModified">updateModified</a></li><li><a href="global.html#updateProjectDisplay">updateProjectDisplay</a></li><li><a href="global.html#updateRequestStats">updateRequestStats</a></li><li><a href="global.html#updateSearchStatistics">updateSearchStatistics</a></li><li><a href="global.html#updateUI">updateUI</a></li><li><a href="global.html#updateWeights">updateWeights</a></li><li><a href="global.html#uploadDocument">uploadDocument</a></li><li><a href="global.html#validate">validate</a></li><li><a href="global.html#validateCompatibility">validateCompatibility</a></li><li><a href="global.html#validateConfig">validateConfig</a></li><li><a href="global.html#validateConfiguration">validateConfiguration</a></li><li><a href="global.html#validateContentType">validateContentType</a></li><li><a href="global.html#validateCorpus">validateCorpus</a></li><li><a href="global.html#validateCriteria">validateCriteria</a></li><li><a href="global.html#validateDependencies">validateDependencies</a></li><li><a href="global.html#validateGeographic">validateGeographic</a></li><li><a href="global.html#validateInput">validateInput</a></li><li><a href="global.html#validateJsonStructure">validateJsonStructure</a></li><li><a href="global.html#validateMetadata">validateMetadata</a></li><li><a href="global.html#validateMigration">validateMigration</a></li><li><a href="global.html#validateModel">validateModel</a></li><li><a href="global.html#validateNormalized">validateNormalized</a></li><li><a href="global.html#validateOntology">validateOntology</a></li><li><a href="global.html#validateOptions">validateOptions</a></li><li><a href="global.html#validatePan">validatePan</a></li><li><a href="global.html#validateQuery">validateQuery</a></li><li><a href="global.html#validateRagnoURI">validateRagnoURI</a></li><li><a href="global.html#validateRequest">validateRequest</a></li><li><a href="global.html#validateSearchRequest">validateSearchRequest</a></li><li><a href="global.html#validateTemporal">validateTemporal</a></li><li><a href="global.html#validateTilt">validateTilt</a></li><li><a href="global.html#validateTransform">validateTransform</a></li><li><a href="global.html#validateZoom">validateZoom</a></li><li><a href="global.html#verifyComponentsReady">verifyComponentsReady</a></li><li><a href="global.html#withRateLimit">withRateLimit</a></li><li><a href="global.html#withTiming">withTiming</a></li><li><a href="global.html#zptDataFactory">zptDataFactory</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Sun Sep 07 2025 14:33:02 GMT+0200 (Central European Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
